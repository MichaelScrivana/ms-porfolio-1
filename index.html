<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="dark">
<meta name="theme-color" content="#0E0E10">
<title>Michael Scrivana — AI + Design</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800;900&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;1,400&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  /* ============================================
     CSS VARIABLES & RESET
     ============================================ */
  :root {
    --black: #0A0A0A;
    --white: #FAFAF8;
    --gray-100: #F0F0EC;
    --gray-200: #E0E0DC;
    --gray-300: #C8C8C4;
    --gray-500: #888884;
    --gray-700: #555552;
    --accent: #4D8FE8;
    --accent-light: rgba(77, 143, 232, 0.12);
    --font-display: 'Outfit', sans-serif;
    --font-body: 'DM Sans', sans-serif;
    --font-mono: 'IBM Plex Mono', monospace;
    --max-width: 1120px;
    --section-gap: 140px;

    /* Dark by default */
    color-scheme: dark;
    --bg-primary: #0E0E10;
    --bg-secondary: #18181B;
    --bg-inverted: #FAFAF8;
    --text-primary: #ECECEC;
    --text-secondary: #A0A0A0;
    --text-muted: #707070;
    --border-color: #2A2A2E;
    --border-light: #3A3A3E;
    --nav-bg: rgba(14, 14, 16, 0.92);
    --nav-border: #2A2A2E;
  }

  [data-theme="light"] {
    color-scheme: light;
    --accent: #0047AB;
    --accent-light: #E8EFF8;
    --bg-primary: #FAFAF8;
    --bg-secondary: #F0F0EC;
    --bg-inverted: #0A0A0A;
    --text-primary: #0A0A0A;
    --text-secondary: #555552;
    --text-muted: #888884;
    --border-color: #E0E0DC;
    --border-light: #C8C8C4;
    --nav-bg: rgba(250, 250, 248, 0.9);
    --nav-border: #E0E0DC;
  }

  *, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  /* Force dark backgrounds on iOS Safari — prevents white bleed-through */
  html, body, section, main {
    background-color: var(--bg-primary);
  }

  /* Smooth transitions for theme switching */
  html, section, .portfolio-item, .mirafast-hero, .mirafast-stat,
  .fit-row, .timeline-item, .divider, .about-me, nav,
  .portfolio-caption, .portfolio-thumb, .photo-placeholder {
    transition: background 0.4s ease, border-color 0.4s ease, color 0.4s ease;
  }

  html {
    scroll-behavior: smooth;
    font-size: 16px;
    background: var(--bg-primary);
    -webkit-text-size-adjust: 100%;
  }

  body {
    font-family: var(--font-body);
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    transition: background 0.4s ease, color 0.4s ease;
  }

  ::selection {
    background: var(--accent);
    color: #fff;
  }

  /* ============================================
     UTILITY
     ============================================ */
  .container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 40px;
  }

  .section {
    padding: var(--section-gap) 0;
  }

  .section-label {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    font-weight: 500;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 12px;
    display: block;
  }

  .section-title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 4vw, 2.8rem);
    font-weight: 700;
    line-height: 1.15;
    margin-bottom: 20px;
    letter-spacing: -0.02em;
  }

  .section-subtitle {
    font-size: 1.1rem;
    color: var(--text-secondary);
    max-width: 640px;
    line-height: 1.7;
  }

  .divider {
    width: 100%;
    height: 1px;
    background: var(--border-color);
    transition: background 0.4s ease;
  }

  /* ============================================
     NAV
     ============================================ */
  nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background: var(--nav-bg);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--nav-border);
    transition: background 0.4s ease, border-color 0.4s ease;
  }

  nav .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 56px;
    gap: 24px;
  }

  .nav-name {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: 0.95rem;
    letter-spacing: -0.01em;
  }

  .nav-links {
    display: flex;
    gap: 32px;
    list-style: none;
    flex: 1;
    justify-content: center;
  }

  .nav-links a {
    font-family: var(--font-mono);
    font-size: 0.72rem;
    font-weight: 500;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    text-decoration: none;
    color: var(--text-secondary);
    transition: color 0.2s ease;
  }

  .nav-links a:hover {
    color: var(--accent);
  }

  /* Hamburger button */
  .nav-hamburger {
    display: none;
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px;
    margin-left: auto;
    margin-right: 12px;
    position: relative;
    width: 24px;
    height: 20px;
    flex-shrink: 0;
  }

  .nav-hamburger span {
    display: block;
    position: absolute;
    left: 0;
    width: 24px;
    height: 2px;
    background: var(--text-primary);
    border-radius: 1px;
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  .nav-hamburger span:nth-child(1) { top: 2px; }
  .nav-hamburger span:nth-child(2) { top: 9px; }
  .nav-hamburger span:nth-child(3) { top: 16px; }

  .nav-hamburger.active span:nth-child(1) {
    top: 9px;
    transform: rotate(45deg);
  }

  .nav-hamburger.active span:nth-child(2) {
    opacity: 0;
  }

  .nav-hamburger.active span:nth-child(3) {
    top: 9px;
    transform: rotate(-45deg);
  }

  /* Mobile menu overlay */
  .mobile-menu {
    display: none;
    position: fixed;
    top: 56px;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 99;
    background: var(--bg-primary);
    padding: 0 40px;
    opacity: 0;
    transform: translateY(-8px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    pointer-events: none;
    overflow-y: auto;
  }

  .mobile-menu.open {
    opacity: 1;
    transform: translateY(0);
    pointer-events: all;
  }

  .mobile-menu-links {
    list-style: none;
    padding: 32px 0;
  }

  .mobile-menu-links a {
    display: block;
    padding: 16px 0;
    font-family: var(--font-display);
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    text-decoration: none;
    border-bottom: 1px solid var(--border-color);
    transition: color 0.2s ease;
  }

  .mobile-menu-links li:last-child a {
    border-bottom: none;
  }

  .mobile-menu-links a:hover,
  .mobile-menu-links a:active {
    color: var(--accent);
  }

  /* ============================================
     HERO
     ============================================ */
  .hero {
    padding: 160px 0 var(--section-gap);
    position: relative;
    background: var(--bg-primary);
  }

  .hero-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 48px;
  }

  .hero-headline {
    font-family: var(--font-display);
    font-size: clamp(2.8rem, 6.5vw, 5rem);
    font-weight: 800;
    line-height: 1.05;
    letter-spacing: -0.01em;
    max-width: 800px;
  }

  .hero-headline .accent-line {
    color: var(--accent);
  }

  .hero-meta {
    display: flex;
    gap: 48px;
    align-items: flex-start;
    flex-wrap: wrap;
  }

  .hero-description {
    font-size: 1.15rem;
    color: var(--text-secondary);
    max-width: 520px;
    line-height: 1.7;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    font-family: var(--font-mono);
    font-size: 0.85rem;
    font-weight: 500;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--accent);
    background: var(--accent-light);
    padding: 10px 20px;
    border-radius: 4px;
    border: 1px solid rgba(0, 71, 171, 0.15);
    white-space: nowrap;
    transition: background 0.4s ease, border-color 0.4s ease;
  }

  .hero-badge::before {
    content: '';
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--accent);
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
  }

  .hero-stats {
    display: flex;
    gap: 48px;
    padding-top: 24px;
  }

  .stat {
    display: flex;
    flex-direction: column;
  }

  .stat-number {
    font-family: var(--font-display);
    font-size: 2.4rem;
    font-weight: 800;
    letter-spacing: -0.02em;
    line-height: 1;
  }

  .stat-label {
    font-family: var(--font-mono);
    font-size: 0.68rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-top: 6px;
  }

  /* ============================================
     DARK/LIGHT OVERRIDES (dark is default)
     ============================================ */
  .ai-projects {
    background: #141418;
  }

  .ai-projects .project-card {
    background: #141418;
  }

  .hero-badge {
    background: var(--accent-light);
    border-color: rgba(77, 143, 232, 0.2);
  }

  .mirafast-hero {
    border-color: var(--border-light);
  }

  .mirafast-role .project-detail-label,
  .timeline-content strong[style] {
    color: var(--text-muted) !important;
  }

  .mirafast-role p,
  .mirafast-stat-label span {
    color: var(--text-muted) !important;
  }

  [data-theme="light"] .ai-projects {
    background: var(--black);
  }

  [data-theme="light"] .ai-projects .project-card {
    background: var(--black);
  }

  [data-theme="light"] .hero-badge {
    background: #E8EFF8;
    border-color: rgba(0, 71, 171, 0.15);
  }

  [data-theme="light"] footer {
    background: var(--bg-inverted);
  }

  [data-theme="light"] .mirafast-hero {
    border-color: var(--border-color);
  }

  /* ============================================
     THEME TOGGLE
     ============================================ */
  .theme-toggle {
    position: relative;
    width: 44px;
    height: 24px;
    background: #3A3A3E;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    padding: 0;
    transition: background 0.3s ease;
    flex-shrink: 0;
  }

  .theme-toggle:hover {
    background: var(--border-light);
  }

  .toggle-track {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .toggle-thumb {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 18px;
    height: 18px;
    background: #0E0E10;
    border-radius: 50%;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), background 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    transform: translateX(20px);
  }

  [data-theme="light"] .theme-toggle {
    background: var(--border-color);
  }

  [data-theme="light"] .toggle-thumb {
    transform: translateX(0);
    background: var(--bg-primary);
  }

  .toggle-icon {
    width: 12px;
    height: 12px;
    transition: opacity 0.2s ease, transform 0.3s ease;
  }

  .icon-sun,
  .icon-moon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: opacity 0.2s ease, transform 0.3s ease;
  }

  .icon-sun {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(-90deg);
    color: #E8A000;
  }

  .icon-moon {
    opacity: 1;
    transform: translate(-50%, -50%) rotate(0deg);
    color: #8BB4E8;
  }

  [data-theme="light"] .icon-sun {
    opacity: 1;
    transform: translate(-50%, -50%) rotate(0deg);
  }

  [data-theme="light"] .icon-moon {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(90deg);
  }

  /* ============================================
     ABOUT ME
     ============================================ */
  .about-me {
    padding: var(--section-gap) 0;
    background: var(--bg-primary);
  }

  .about-grid {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 64px;
    align-items: start;
  }

  .photo-placeholder {
    width: 100%;
    aspect-ratio: 3 / 4;
    background: var(--bg-secondary);
    border: 1px dashed var(--border-light);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-mono);
    font-size: 0.72rem;
    color: var(--text-muted);
    letter-spacing: 0.06em;
    text-transform: uppercase;
  }

  img.photo-placeholder {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .about-headline {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 3vw, 2.2rem);
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.02em;
    margin-bottom: 24px;
  }

  .about-text {
    font-size: 1.05rem;
    color: var(--text-secondary);
    line-height: 1.75;
    margin-bottom: 16px;
    max-width: 580px;
  }

  .about-text:last-child {
    margin-bottom: 0;
  }

  @media (max-width: 900px) {
    .about-grid {
      grid-template-columns: 1fr;
      gap: 40px;
    }

    .photo-placeholder {
      max-width: 240px;
      aspect-ratio: 1 / 1;
    }
  }

  /* ============================================
     AI PROJECTS
     ============================================ */
  .ai-projects {
    background: var(--black);
    color: var(--white);
    padding: var(--section-gap) 0;
  }

  .ai-projects .section-label {
    color: rgba(255, 255, 255, 0.5);
  }

  .ai-projects .section-title {
    color: var(--white);
  }

  .ai-projects .section-subtitle {
    color: rgba(255, 255, 255, 0.6);
  }

  .project-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2px;
    margin-top: 64px;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  .project-card {
    background: var(--black);
    padding: 48px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 48px;
    align-items: start;
  }

  /* One A Day card: 3-area layout for mobile reordering */
  .project-card-oad {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto 1fr;
  }

  .oad-header {
    grid-column: 1;
    grid-row: 1;
  }

  .oad-demo {
    grid-column: 2;
    grid-row: 1 / -1;
  }

  .oad-details {
    grid-column: 1;
    grid-row: 2;
  }

  .project-card:nth-child(even) {
    direction: rtl;
  }

  .project-card:nth-child(even) > * {
    direction: ltr;
  }

  .project-number {
    font-family: var(--font-display);
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--accent);
    margin-bottom: 16px;
    display: block;
  }

  .project-title {
    font-family: var(--font-display);
    font-size: 1.6rem;
    font-weight: 700;
    margin-bottom: 24px;
    letter-spacing: -0.01em;
    line-height: 1.25;
  }

  .project-detail {
    margin-bottom: 20px;
  }

  .project-detail-label {
    font-family: var(--font-mono);
    font-size: 0.68rem;
    font-weight: 500;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.4);
    margin-bottom: 8px;
  }

  .project-detail p {
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.75);
    line-height: 1.65;
  }

  .project-image-placeholder {
    width: 100%;
    aspect-ratio: 16 / 10;
    background: rgba(255, 255, 255, 0.04);
    border: 1px dashed rgba(255, 255, 255, 0.15);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-mono);
    font-size: 0.72rem;
    color: rgba(255, 255, 255, 0.25);
    letter-spacing: 0.06em;
    text-transform: uppercase;
  }

  img.project-image-placeholder {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  /* Image Carousel */
  .image-carousel {
    width: 100%;
    aspect-ratio: 16 / 10;
    position: relative;
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 4px;
    overflow: hidden;
  }

  .carousel-container {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .carousel-image {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    opacity: 0;
    transition: opacity 0.4s ease;
    cursor: pointer;
  }

  .carousel-image.active {
    opacity: 1;
  }

  .carousel-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 44px;
    height: 44px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    color: rgba(255, 255, 255, 0.8);
    font-size: 1.6rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s ease, border-color 0.2s ease;
    z-index: 2;
  }

  .carousel-nav:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.4);
  }

  .carousel-prev {
    left: 12px;
  }

  .carousel-next {
    right: 12px;
  }

  .carousel-indicators {
    position: absolute;
    bottom: 12px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 6px;
    z-index: 2;
  }

  .indicator {
    width: 8px;
    height: 8px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.2s ease;
  }

  .indicator:hover {
    background: rgba(255, 255, 255, 0.5);
  }

  .indicator.active {
    background: rgba(255, 255, 255, 0.8);
    transform: scale(1.2);
  }

  /* Agent demo animation */
  .agent-demo {
    width: 100%;
    background: #0D0D0F;
    border: 1px solid rgba(255,255,255,0.08);
    overflow: hidden;
    font-family: var(--font-mono);
    position: relative;
  }

  .agent-demo-bar {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 10px 14px;
    background: rgba(255,255,255,0.03);
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }

  .agent-demo-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255,255,255,0.12);
  }

  .agent-demo-bar-title {
    font-size: 0.6rem;
    color: rgba(255,255,255,0.3);
    letter-spacing: 0.08em;
    text-transform: uppercase;
    margin-left: 8px;
  }

  .agent-demo-body {
    padding: 20px;
    min-height: 260px;
  }

  .agent-line {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    margin-bottom: 12px;
    opacity: 0;
    transform: translateY(6px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }

  .agent-line.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .agent-line-icon {
    flex-shrink: 0;
    width: 16px;
    text-align: center;
    font-size: 0.72rem;
    line-height: 1.6;
  }

  .agent-line-text {
    font-size: 0.72rem;
    line-height: 1.6;
    color: rgba(255,255,255,0.55);
  }

  .agent-line-text .highlight {
    color: #4D8FE8;
  }

  .agent-line-text .success {
    color: #4ADE80;
  }

  .agent-line-text .warn {
    color: #FBBF24;
  }

  .agent-line-text .file {
    color: rgba(255,255,255,0.8);
  }

  .agent-checks {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4px 20px;
    margin: 8px 0 8px 26px;
  }

  .agent-check {
    font-size: 0.68rem;
    color: rgba(255,255,255,0.35);
    display: flex;
    align-items: center;
    gap: 6px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .agent-check.visible {
    opacity: 1;
  }

  .agent-check.pass { color: #4ADE80; }
  .agent-check.flag { color: #FBBF24; }

  .agent-check-dot {
    width: 5px;
    height: 5px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .agent-check.pass .agent-check-dot { background: #4ADE80; }
  .agent-check.flag .agent-check-dot { background: #FBBF24; }

  .agent-score {
    display: inline-flex;
    align-items: baseline;
    gap: 6px;
    margin-left: 26px;
    margin-top: 4px;
    opacity: 0;
    transform: scale(0.95);
    transition: opacity 0.5s ease, transform 0.5s ease;
  }

  .agent-score.visible {
    opacity: 1;
    transform: scale(1);
  }

  .agent-score-number {
    font-family: var(--font-display);
    font-size: 1.6rem;
    font-weight: 800;
    color: #4ADE80;
    letter-spacing: -0.02em;
  }

  .agent-score-label {
    font-size: 0.65rem;
    color: rgba(255,255,255,0.35);
    letter-spacing: 0.04em;
  }

  .agent-cursor {
    display: inline-block;
    width: 6px;
    height: 12px;
    background: var(--accent);
    margin-left: 2px;
    animation: blink 1s step-end infinite;
    vertical-align: middle;
  }

  @keyframes blink {
    50% { opacity: 0; }
  }

  .agent-screenshots {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    margin-top: 12px;
  }

  .agent-screenshot {
    background: rgba(255,255,255,0.04);
    border: 1px dashed rgba(255,255,255,0.1);
    aspect-ratio: 16/10;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.6rem;
    color: rgba(255,255,255,0.2);
    letter-spacing: 0.06em;
    text-transform: uppercase;
  }

  img.agent-screenshot {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .agent-replay {
    position: absolute;
    bottom: 12px;
    right: 14px;
    font-size: 0.58rem;
    color: rgba(255,255,255,0.2);
    background: none;
    border: 1px solid rgba(255,255,255,0.1);
    padding: 3px 10px;
    cursor: pointer;
    font-family: var(--font-mono);
    letter-spacing: 0.06em;
    text-transform: uppercase;
    transition: color 0.2s, border-color 0.2s;
    display: none;
  }

  .agent-replay:hover {
    color: rgba(255,255,255,0.5);
    border-color: rgba(255,255,255,0.25);
  }

  .agent-replay.show { display: block; }

  .tech-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 24px;
  }

  .tech-tag {
    font-family: var(--font-mono);
    font-size: 0.68rem;
    letter-spacing: 0.04em;
    padding: 4px 12px;
    border: 1px solid rgba(77, 143, 232, 0.3);
    color: var(--accent);
    border-radius: 2px;
  }

  /* ============================================
     ROLE FIT
     ============================================ */
  .role-fit {
    padding: var(--section-gap) 0;
    background: var(--bg-primary);
    transition: background 0.4s ease;
  }

  .fit-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2px;
    margin-top: 48px;
    background: var(--border-color);
    border: 1px solid var(--border-color);
  }

  .fit-card {
    background: var(--bg-primary);
    padding: 28px 28px 24px;
  }

  .fit-card-need {
    font-family: var(--font-mono);
    font-size: 0.68rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 10px;
    line-height: 1.4;
  }

  .fit-card-have {
    font-size: 0.9rem;
    line-height: 1.55;
    color: var(--text-primary);
  }

  @media (max-width: 600px) {
    .fit-grid {
      grid-template-columns: 1fr;
    }
  }

  /* ============================================
     MIRAFAST HERO
     ============================================ */
  .mirafast-hero {
    margin-top: 64px;
    background: var(--bg-primary);
    border: 2px solid var(--text-primary);
    padding: 48px;
  }

  .mirafast-header {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 48px;
    margin-bottom: 0;
    align-items: start;
  }

  .mirafast-header .portfolio-thumb {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-mono);
    font-size: 0.72rem;
    color: rgba(255,255,255,0.25);
    letter-spacing: 0.06em;
    text-transform: uppercase;
  }

  .mirafast-title {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 3vw, 2.2rem);
    font-weight: 800;
    letter-spacing: -0.02em;
    margin-bottom: 16px;
    line-height: 1.15;
  }

  .mirafast-desc {
    font-size: 1rem;
    color: var(--text-secondary);
    line-height: 1.7;
    max-width: 480px;
  }

  .mirafast-stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2px;
    background: var(--border-color);
    border: 1px solid var(--border-color);
    margin-bottom: 32px;
  }

  .mirafast-stat {
    background: var(--bg-primary);
    padding: 28px 24px;
  }

  .mirafast-stat-number {
    font-family: var(--font-display);
    font-size: clamp(1.6rem, 3vw, 2.6rem);
    font-weight: 800;
    letter-spacing: -0.02em;
    line-height: 1;
    margin-bottom: 8px;
    color: var(--accent);
  }

  .mirafast-stat-label {
    font-size: 0.82rem;
    color: var(--text-primary);
    line-height: 1.45;
  }

  .mirafast-highlights {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    margin-bottom: 40px;
  }

  .mirafast-highlight {
    font-size: 0.85rem;
    color: var(--text-secondary);
    line-height: 1.5;
    padding: 16px 0;
    border-top: 1px solid var(--border-color);
  }

  .mirafast-highlight strong {
    display: block;
    font-family: var(--font-display);
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 2px;
  }

  .mirafast-images {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
  }

  .mirafast-images .portfolio-thumb {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
  }

  /* Chart within featured section */
  .growth-chart-wrap {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    padding: 28px;
    margin-bottom: 32px;
  }

  .growth-chart-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 12px;
  }

  .growth-chart-title {
    font-family: var(--font-display);
    font-size: 0.95rem;
    font-weight: 700;
    letter-spacing: -0.01em;
  }

  .growth-legend {
    display: flex;
    gap: 16px;
  }

  .growth-legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-family: var(--font-mono);
    font-size: 0.68rem;
    letter-spacing: 0.04em;
    color: var(--text-secondary);
  }

  .growth-legend-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
  }

  canvas#growthChart {
    width: 100%;
    display: block;
  }

  .growth-chart-source {
    font-family: var(--font-mono);
    font-size: 0.58rem;
    color: var(--text-muted);
    margin-top: 10px;
    letter-spacing: 0.04em;
  }

  .mira-product-tabs {
    display: flex;
    gap: 2px;
    margin-bottom: 32px;
  }

  .mira-tab {
    flex: 1;
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    padding: 20px 24px;
  }

  .mira-tab-label {
    font-family: var(--font-mono);
    font-size: 0.62rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    margin-bottom: 8px;
  }

  .mira-tab-label.fiber { color: var(--accent); }
  .mira-tab-label.fast { color: #E85D4D; }
  .mira-tab-label.combined { color: var(--text-muted); }

  .mira-tab-number {
    font-family: var(--font-display);
    font-size: clamp(1.3rem, 2.5vw, 1.8rem);
    font-weight: 800;
    letter-spacing: -0.02em;
    line-height: 1;
    margin-bottom: 4px;
  }

  .mira-tab-number.fiber { color: var(--accent); }
  .mira-tab-number.fast { color: #E85D4D; }
  .mira-tab-number.combined {
    color: #4ADE80;
  }

  .mira-tab-detail {
    font-size: 0.78rem;
    color: var(--text-muted);
    line-height: 1.4;
  }

  @media (max-width: 600px) {
    .mira-product-tabs {
      flex-direction: column;
    }
    .growth-chart-wrap {
      padding: 20px 16px;
    }
  }

  .mira-meta-bar {
    display: flex;
    gap: 32px;
    padding: 16px 0 24px;
    margin-bottom: 24px;
    border-bottom: 1px solid var(--border-color);
    flex-wrap: wrap;
  }

  .mira-meta-item {
    font-size: 0.82rem;
    color: var(--text-secondary);
    line-height: 1.5;
  }

  .mira-meta-label {
    font-family: var(--font-mono);
    font-size: 0.62rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-right: 10px;
  }

  @media (max-width: 900px) {
    .mirafast-hero {
      padding: 32px 24px;
    }

    .mirafast-header {
      grid-template-columns: 1fr;
      gap: 24px;
    }

    .mirafast-stats-grid {
      grid-template-columns: 1fr 1fr;
    }

    .mirafast-highlights {
      grid-template-columns: 1fr 1fr;
    }

    .mirafast-images {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 600px) {
    .mirafast-stats-grid {
      grid-template-columns: 1fr;
    }

    .mirafast-highlights {
      grid-template-columns: 1fr;
    }
  }

  /* ============================================
     PORTFOLIO
     ============================================ */
  .portfolio {
    background: var(--bg-secondary);
    padding: var(--section-gap) 0;
  }

  /* ============================================
     PORTFOLIO CAROUSEL
     ============================================ */
  .carousel-wrapper {
    position: relative;
    overflow: hidden;
  }

  .carousel-track {
    display: flex;
    gap: 16px;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .portfolio-item {
    min-width: calc((100% - 32px) / 3);
    max-width: calc((100% - 32px) / 3);
    position: relative;
    overflow: hidden;
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    flex-shrink: 0;
    cursor: pointer;
  }

  .portfolio-thumb {
    width: 100%;
    aspect-ratio: 4 / 3;
    background: var(--bg-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-mono);
    font-size: 0.68rem;
    color: var(--text-muted);
    letter-spacing: 0.06em;
    text-transform: uppercase;
    text-align: center;
    padding: 24px;
    line-height: 1.5;
  }

  img.portfolio-thumb {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    padding: 0;
  }

  .portfolio-caption {
    padding: 16px 20px;
    border-top: 1px solid var(--border-color);
  }

  .portfolio-caption h3 {
    font-family: var(--font-display);
    font-size: 0.88rem;
    font-weight: 600;
    margin-bottom: 4px;
    letter-spacing: -0.01em;
  }

  .portfolio-caption p {
    font-size: 0.78rem;
    color: var(--text-muted);
    line-height: 1.5;
  }

  /* ============================================
     TIMELINE (brief career summary)
     ============================================ */
  .timeline {
    padding: var(--section-gap) 0;
    background: var(--bg-primary);
  }

  .timeline-items {
    margin-top: 64px;
    display: grid;
    grid-template-columns: 1fr;
    gap: 0;
    border-top: 2px solid var(--text-primary);
  }

  .timeline-item {
    display: grid;
    grid-template-columns: 160px 1fr;
    gap: 48px;
    padding: 32px 0;
    border-bottom: 1px solid var(--border-color);
  }

  .timeline-year {
    font-family: var(--font-mono);
    font-size: 0.78rem;
    font-weight: 500;
    color: var(--text-muted);
    padding-top: 4px;
  }

  .timeline-content h3 {
    font-family: var(--font-display);
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 4px;
    letter-spacing: -0.01em;
  }

  .timeline-content .role {
    font-size: 0.9rem;
    color: var(--text-muted);
    margin-bottom: 8px;
  }

  .timeline-content p {
    font-size: 0.9rem;
    color: var(--text-secondary);
    line-height: 1.6;
    max-width: 560px;
  }

  /* ============================================
     FOOTER
     ============================================ */
  footer {
    background: #18181B;
    color: #ECECEC;
    padding: 80px 0;
  }

  .footer-grid {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 48px;
    align-items: end;
  }

  .footer-name {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 3vw, 2.4rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    margin-bottom: 16px;
  }

  .footer-links {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .footer-links a {
    font-family: var(--font-mono);
    font-size: 0.78rem;
    letter-spacing: 0.04em;
    color: rgba(255, 255, 255, 0.4);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .footer-links a:hover {
    color: rgba(255, 255, 255, 0.8);
  }

  .footer-built {
    font-family: var(--font-mono);
    font-size: 0.68rem;
    color: rgba(255, 255, 255, 0.2);
    letter-spacing: 0.06em;
    text-align: right;
  }

  [data-theme="light"] .footer-links a {
    color: rgba(255, 255, 255, 0.5);
  }

  [data-theme="light"] .footer-links a:hover {
    color: rgba(255, 255, 255, 0.9);
  }

  [data-theme="light"] .footer-built {
    color: rgba(255, 255, 255, 0.3);
  }

  /* ============================================
     PORTFOLIO MODAL
     ============================================ */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.75);
    z-index: 200;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    padding: 40px;
  }

  .modal-overlay.active {
    opacity: 1;
    pointer-events: all;
  }

  .modal {
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    width: 100%;
    max-width: 900px;
    max-height: 85vh;
    overflow-y: auto;
    position: relative;
    transform: translateY(20px) scale(0.98);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .modal-overlay.active .modal {
    transform: translateY(0) scale(1);
  }

  .modal-close {
    position: sticky;
    top: 0;
    float: right;
    z-index: 3;
    width: 40px;
    height: 40px;
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 16px 16px 0 0;
    transition: background 0.2s ease;
    color: var(--text-primary);
    font-size: 1.2rem;
    line-height: 1;
  }

  .modal-close:hover {
    background: var(--bg-secondary);
  }

  .modal-hero-image {
    width: 100%;
    aspect-ratio: 16 / 9;
    background: var(--bg-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-mono);
    font-size: 0.72rem;
    color: var(--text-muted);
    letter-spacing: 0.06em;
    text-transform: uppercase;
  }

  .modal-hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .modal-body {
    padding: 40px 48px 48px;
  }

  .modal-title {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    margin-bottom: 8px;
  }

  .modal-role {
    font-family: var(--font-mono);
    font-size: 0.72rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 24px;
  }

  .modal-description {
    font-size: 1rem;
    color: var(--text-secondary);
    line-height: 1.75;
    margin-bottom: 24px;
    max-width: 640px;
  }

  .modal-detail-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-bottom: 32px;
  }

  .modal-detail-block h4 {
    font-family: var(--font-mono);
    font-size: 0.68rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-bottom: 8px;
    font-weight: 500;
  }

  .modal-detail-block p {
    font-size: 0.9rem;
    color: var(--text-secondary);
    line-height: 1.6;
  }

  .modal-gallery {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-top: 32px;
  }

  .modal-gallery-item {
    aspect-ratio: 4 / 3;
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-mono);
    font-size: 0.65rem;
    color: var(--text-muted);
    letter-spacing: 0.06em;
    text-transform: uppercase;
    text-align: center;
    padding: 16px;
  }

  .modal-gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .portfolio-item {
    cursor: pointer;
  }

  .portfolio-item:hover .portfolio-thumb {
    opacity: 0.85;
  }

  .portfolio-item:hover .portfolio-caption h3 {
    color: var(--accent);
    transition: color 0.2s ease;
  }

  .carousel-controls {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
    margin-top: 24px;
  }

  .carousel-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 1px solid var(--border-color);
    background: var(--bg-primary);
    color: var(--text-primary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: border-color 0.2s ease, background 0.2s ease;
  }

  .carousel-btn:hover {
    border-color: var(--accent);
    background: var(--accent-light);
  }

  .carousel-btn:disabled {
    opacity: 0.3;
    cursor: default;
    border-color: var(--border-color);
    background: var(--bg-primary);
  }

  .carousel-dots {
    display: flex;
    gap: 8px;
  }

  .carousel-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--border-light);
    border: none;
    cursor: pointer;
    padding: 0;
    transition: background 0.2s ease, transform 0.2s ease;
  }

  .carousel-dot.active {
    background: var(--accent);
    transform: scale(1.25);
  }

  @media (max-width: 600px) {
    .modal-overlay {
      padding: 16px;
    }
    .modal-body {
      padding: 24px;
    }
    .modal-detail-grid {
      grid-template-columns: 1fr;
    }
    .modal-gallery {
      grid-template-columns: 1fr;
    }
  }

  /* ============================================
     LIGHTBOX
     ============================================ */
  .lightbox-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.95);
    z-index: 300;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    padding: 40px;
  }

  .lightbox-overlay.active {
    opacity: 1;
    pointer-events: all;
  }

  .lightbox-image {
    max-width: 100%;
    max-height: 90vh;
    width: auto;
    height: auto;
    object-fit: contain;
    border-radius: 4px;
    animation: lightbox-zoom 0.3s ease;
  }

  @keyframes lightbox-zoom {
    from {
      transform: scale(0.95);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  .lightbox-close {
    position: fixed;
    top: 24px;
    right: 24px;
    width: 48px;
    height: 48px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 1.4rem;
    line-height: 1;
    transition: background 0.2s ease, border-color 0.2s ease;
    z-index: 301;
  }

  .lightbox-close:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.4);
  }

  .lightbox-nav {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    width: 48px;
    height: 48px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    color: #fff;
    font-size: 1.8rem;
    cursor: pointer;
    display: flex !important;
    align-items: center;
    justify-content: center;
    transition: background 0.2s ease, border-color 0.2s ease;
    z-index: 301;
  }

  .lightbox-nav:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.4);
  }

  .lightbox-prev {
    left: 24px;
  }

  .lightbox-next {
    right: 24px;
  }

  .lightbox-counter {
    position: fixed;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.6);
    color: #fff;
    padding: 8px 16px;
    border-radius: 4px;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    z-index: 301;
  }

  /* ============================================
     BRAND RUNNER GAME
     ============================================ */
  .game-section {
    padding: 80px 0;
    background: var(--bg-primary);
  }

  .game-wrapper {
    position: relative;
    width: 100%;
    aspect-ratio: 3 / 1;
    min-height: 240px;
    max-height: 360px;
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    overflow: hidden;
    cursor: pointer;
  }

  .game-wrapper canvas {
    width: 100%;
    height: 100%;
    display: block;
  }

  .game-intro,
  .game-over-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-secondary);
    z-index: 2;
    transition: opacity 0.5s ease;
  }

  .game-intro.hidden {
    opacity: 0;
    pointer-events: none;
  }

  .game-over-overlay {
    background: rgba(14, 14, 16, 0.85);
  }

  [data-theme="light"] .game-over-overlay {
    background: rgba(250, 250, 248, 0.88);
  }

  .game-intro-text {
    text-align: center;
  }

  .game-hud {
    position: absolute;
    top: 16px;
    right: 20px;
    text-align: right;
    z-index: 1;
  }

  .game-score {
    font-family: var(--font-display);
    font-size: 1.8rem;
    font-weight: 800;
    letter-spacing: -0.02em;
    line-height: 1;
    color: var(--text-primary);
  }

  .game-score-label {
    font-family: var(--font-mono);
    font-size: 0.58rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-top: 4px;
  }

  /* ============================================
     SCROLL ANIMATIONS
     ============================================ */

  /* Hero entrance — plays on load, not scroll */
  @keyframes heroEntrance {
    from {
      opacity: 0;
      transform: translateY(32px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-anim {
    opacity: 0;
    animation: heroEntrance 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .hero-anim:nth-child(1) { animation-delay: 0.1s; }
  .hero-anim:nth-child(2) { animation-delay: 0.3s; }
  .hero-anim:nth-child(3) { animation-delay: 0.5s; }
  .hero-anim:nth-child(4) { animation-delay: 0.75s; }

  .fade-in {
    opacity: 0;
    transform: translateY(24px);
    transition: opacity 0.7s ease, transform 0.7s ease;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* stagger children */
  .stagger > .fade-in:nth-child(1) { transition-delay: 0ms; }
  .stagger > .fade-in:nth-child(2) { transition-delay: 80ms; }
  .stagger > .fade-in:nth-child(3) { transition-delay: 160ms; }
  .stagger > .fade-in:nth-child(4) { transition-delay: 240ms; }
  .stagger > .fade-in:nth-child(5) { transition-delay: 320ms; }
  .stagger > .fade-in:nth-child(6) { transition-delay: 400ms; }

  /* ============================================
     RESPONSIVE
     ============================================ */
  @media (max-width: 900px) {
    :root {
      --section-gap: 96px;
    }

    .container {
      padding: 0 24px;
    }

    .project-card {
      grid-template-columns: 1fr;
      padding: 32px 24px;
    }

    .project-card:nth-child(even) {
      direction: ltr;
    }

    /* OAD mobile: title → demo → details */
    .project-card-oad {
      grid-template-columns: 1fr;
      grid-template-rows: auto;
    }

    .oad-header { grid-column: 1; grid-row: auto; order: 1; }
    .oad-demo   { grid-column: 1; grid-row: auto; order: 2; }
    .oad-details { grid-column: 1; grid-row: auto; order: 3; }

    .portfolio-item {
      min-width: calc((100% - 16px) / 2);
      max-width: calc((100% - 16px) / 2);
    }

    .hero-stats {
      gap: 32px;
    }

    .timeline-item {
      grid-template-columns: 1fr;
      gap: 8px;
    }

    .footer-grid {
      grid-template-columns: 1fr;
      gap: 32px;
    }

    .footer-built {
      text-align: left;
    }

    .nav-links {
      gap: 20px;
    }
  }

  @media (max-width: 600px) {
    .portfolio-item {
      min-width: 100%;
      max-width: 100%;
    }

    .hero-stats {
      flex-wrap: wrap;
      gap: 24px;
    }

    .nav-links {
      display: none;
    }

    .nav-hamburger {
      display: block;
    }

    .mobile-menu {
      display: block;
    }

    .theme-toggle {
      margin-left: 0;
    }
  }
</style>
</head>
<body>

<!-- ============================================
     NAVIGATION
     ============================================ -->
<nav>
  <div class="container">
    <a href="#" class="nav-name" style="text-decoration: none; color: inherit;">Michael Scrivana</a>
    <ul class="nav-links">
      <li><a href="#about-me">About</a></li>
      <li><a href="#ai">AI Projects</a></li>
      <li><a href="#portfolio">Design Work</a></li>
      <li><a href="#fit">Role Fit</a></li>
      <li><a href="#career">Career</a></li>
    </ul>
    <button class="nav-hamburger" id="navHamburger" aria-label="Open menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
      <div class="toggle-track">
        <div class="toggle-thumb">
          <svg class="icon-sun" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg class="icon-moon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </div>
      </div>
    </button>
  </div>
</nav>

<div class="mobile-menu" id="mobileMenu">
  <ul class="mobile-menu-links">
    <li><a href="#about-me" class="mobile-menu-link">About</a></li>
    <li><a href="#ai" class="mobile-menu-link">AI Projects</a></li>
    <li><a href="#portfolio" class="mobile-menu-link">Design Work</a></li>
    <li><a href="#fit" class="mobile-menu-link">Role Fit</a></li>
    <li><a href="#career" class="mobile-menu-link">Career</a></li>
  </ul>
</div>

<!-- ============================================
     HERO
     ============================================ -->
<section class="hero">
  <div class="container">
    <div class="hero-grid">
      <div class="hero-anim">
        <div class="hero-badge">Built with Claude — AI in action</div>
      </div>
      <h1 class="hero-headline hero-anim">
        I don't pitch AI adoption.<br>
        <span class="accent-line">I demonstrate it.</span>
      </h1>
      <div class="hero-meta hero-anim">
        <p class="hero-description">
          6 years at Bayer Consumer Health — designing brands, leading agencies, 
          and delivering $100M+ in product revenue. Now building production AI systems, 
          coaching teams on adoption, and embedding compliance into every workflow. 
          This is my case for the <strong>AI Proficiency &amp; Learning Lead</strong> role.
        </p>
      </div>
      <div class="hero-stats hero-anim">
        <div class="stat">
          <span class="stat-number" data-count="6" data-suffix="+">0</span>
          <span class="stat-label">Years at Bayer</span>
        </div>
        <div class="stat">
          <span class="stat-number" data-count="100" data-suffix="M+">$0</span>
          <span class="stat-label">In revenue from products I designed</span>
        </div>
        <div class="stat">
          <span class="stat-number" data-count="1000" data-suffix="+" data-prefix="">0</span>
          <span class="stat-label">Creative assets delivered</span>
        </div>
        <div class="stat">
          <span class="stat-number" data-count="100" data-suffix="+">0</span>
          <span class="stat-label">Pack designs & concepts</span>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="container"><div class="divider"></div></div>

<!-- ============================================
     ABOUT ME
     ============================================ -->
<section class="about-me" id="about-me">
  <div class="container">
    <div class="about-grid">
      <div class="about-photo fade-in">
        <img src="./Img/1-MSportrait2023-1.jpg" alt="Michael Scrivana" class="photo-placeholder" id="about-img1" />
      </div>
      <div class="about-content fade-in">
        <span class="section-label">About Me</span>
        <h2 class="about-headline">I design brands for a living.<br>I build AI tools to make them better.</h2>
        <p class="about-text">
          For 6 years at Bayer Consumer Health, I've designed and managed over a dozen brands — packaging, ecommerce, web, motion, brand systems. I know the work, the teams, and the constraints inside out.
        </p>
        <p class="about-text">
          Local LLM deployments, API integrations, production-grade agents on Azure — I learn by building. That led to my selection as 1 of 5 cross-functional AI representatives on the Consumer Health Science Home team, where I partner with Product Development, Regulatory, and Medical to shape the division's AI roadmap and consult PX leadership on strategy.
        </p>
        <p class="about-text" style="color: var(--accent); font-weight: 500;">
          This role isn't a pivot — it's the formalization of work I'm already doing.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- ============================================
     AI PROJECTS
     ============================================ -->
<section class="ai-projects" id="ai">
  <div class="container">
    <span class="section-label fade-in">01 — AI at Bayer</span>
    <h2 class="section-title fade-in">Building AI that works<br>for Consumer Health</h2>
    <p class="section-subtitle fade-in">
      Building real prototypes, coaching peers on adoption, and turning AI from a 
      buzzword into a workflow — one working demo at a time.
    </p>

    <div class="project-grid stagger">

      <!-- PROJECT 1: One A Day Agent -->
      <div class="project-card project-card-oad fade-in">
        <div class="oad-header">
          <span class="project-number">01</span>
          <h3 class="project-title">One A Day — Orchestrated Design Review Agent</h3>
        </div>
        <div class="oad-demo">
          <div class="agent-demo" id="agentDemo">
            <div class="agent-demo-bar">
              <div class="agent-demo-dot"></div>
              <div class="agent-demo-dot"></div>
              <div class="agent-demo-dot"></div>
              <span class="agent-demo-bar-title">One A Day — Design Review Agent</span>
            </div>
            <div class="agent-demo-body" id="agentBody">
              <div class="agent-line" data-step="1">
                <span class="agent-line-icon" style="color: var(--accent);">→</span>
                <span class="agent-line-text">Agency submits <span class="file">OAD_Womens_Base_v3.ai</span></span>
              </div>
              <div class="agent-line" data-step="2">
                <span class="agent-line-icon" style="color: rgba(255,255,255,0.3);">⟳</span>
                <span class="agent-line-text">Loading brand guidelines... <span class="highlight">OAD Women's Base</span></span>
              </div>
              <div class="agent-line" data-step="3">
                <span class="agent-line-icon" style="color: rgba(255,255,255,0.3);">◎</span>
                <span class="agent-line-text">Scanning against brand system<span class="agent-cursor"></span></span>
              </div>
              <div class="agent-checks" data-step="4">
                <div class="agent-check pass"><span class="agent-check-dot"></span> Typography</div>
                <div class="agent-check pass"><span class="agent-check-dot"></span> Color System</div>
                <div class="agent-check pass"><span class="agent-check-dot"></span> Logo Placement</div>
                <div class="agent-check pass"><span class="agent-check-dot"></span> Visual Hierarchy</div>
                <div class="agent-check pass"><span class="agent-check-dot"></span> Claim Compliance</div>
                <div class="agent-check flag"><span class="agent-check-dot"></span> Bleed Margins</div>
              </div>
              <div class="agent-line" data-step="5">
                <span class="agent-line-icon" style="color: #FBBF24;">!</span>
                <span class="agent-line-text"><span class="warn">1 flag:</span> Right bleed margin 2px below spec</span>
              </div>
              <div class="agent-line" data-step="6">
                <span class="agent-line-icon" style="color: #4ADE80;">✓</span>
                <span class="agent-line-text"><span class="success">Review complete</span> — Brand compliance score:</span>
              </div>
              <div class="agent-score" data-step="7">
                <span class="agent-score-number">94</span>
                <span class="agent-score-label">/ 100 — APPROVED</span>
              </div>
            </div>
            <button class="agent-replay" id="agentReplay" onclick="runAgentDemo()">↻ Replay</button>
          </div>
          <div class="agent-screenshots">
            <img src="./Img/2-01-oad.png" alt="Upload Interface" class="agent-screenshot" id="sec1-img1" />
            <img src="./Img/2-02-oad.png" alt="Review Dashboard" class="agent-screenshot" id="sec1-img2" />
          </div>
        </div>
        <div class="oad-details">
          <div class="project-detail">
            <div class="project-detail-label">Challenge</div>
            <p>Thousands of agency submissions reviewed manually against brand guidelines every year — a bottleneck that pulls design managers away from strategic work.</p>
          </div>
          <div class="project-detail">
            <div class="project-detail-label">Solution</div>
            <p>Prototyping an orchestrated AI agent on Azure with Claude. Agencies submit designs through a web app; the agent scores them against brand guidelines with compliance guardrails built in. Modular architecture, designed to scale across all BCH brands.</p>
          </div>
          <div class="project-detail">
            <div class="project-detail-label">Automation Vision</div>
            <p>The roadmap: a generative design agent that pulls brand assets and produces compliant executions — banners, social templates, ecommerce tiles — so design managers can focus on brand vision instead of reviewing volume.</p>
          </div>
          <div class="tech-tags">
            <span class="tech-tag">Azure</span>
            <span class="tech-tag">Claude API</span>
            <span class="tech-tag">VS Code</span>
            <span class="tech-tag">Node.js</span>
            <span class="tech-tag">Brand Guardrails</span>
            <span class="tech-tag">Automation</span>
          </div>
          <a href="https://github.com/MichaelScrivana/OAD-DesignReviewer" class="github-link" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; margin-top: 24px; font-family: var(--font-mono); font-size: 0.75rem; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; color: #000; background: #fff; text-decoration: none; padding: 12px 24px; border: none; border-radius: 4px; transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;" onmouseover="this.style.background='#f0f0f0';this.style.transform='translateY(-2px)';this.style.boxShadow='0 4px 12px rgba(0,0,0,0.15)'" onmouseout="this.style.background='#fff';this.style.transform='translateY(0)';this.style.boxShadow='none'">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
            View on GitHub
          </a>
        </div>
      </div>

      <!-- PROJECT 2: AI Consulting & Strategy -->
      <div class="project-card fade-in">
        <div>
          <span class="project-number">02</span>
          <h3 class="project-title">AI Strategy Consulting for Product Experience</h3>
          <div class="project-detail">
            <div class="project-detail-label">Context</div>
            <p>PX leadership needed a grounded perspective on AI — not hype, but a practical read on what's real and what's relevant for Consumer Health. No formal role existed; I stepped into the gap.</p>
          </div>
          <div class="project-detail">
            <div class="project-detail-label">My Role</div>
            <p>Informal AI advisor to PX leadership. Presenting strategy recommendations, demonstrating working prototypes, and helping the team separate signal from noise. Selected as PX's representative on the Consumer Health Science Home AI team.</p>
          </div>
          <div class="project-detail">
            <div class="project-detail-label">Approach</div>
            <p>Demos over decks. I coach peers through working sessions and informal knowledge shares — always grounded in what I've actually built and tested, not theoretical possibilities.</p>
          </div>
          <div class="tech-tags">
            <span class="tech-tag">AI Strategy</span>
            <span class="tech-tag">Leadership Consulting</span>
            <span class="tech-tag">Cross-functional</span>
            <span class="tech-tag">Change Management</span>
          </div>
        </div>
        <div class="image-carousel" id="sec2Carousel">
          <div class="carousel-container">
            <img src="./Img/Sec2/DPX-GenAI-030424-v211.jpg" alt="DPX GenAI v211" class="carousel-image" data-carousel-index="0" />
            <img src="./Img/Sec2/DPX-GenAI-030424-v214.jpg" alt="DPX GenAI v214" class="carousel-image" data-carousel-index="1" />
            <img src="./Img/Sec2/DPX-GenAI-030424-v216.jpg" alt="DPX GenAI v216" class="carousel-image" data-carousel-index="2" />
            <img src="./Img/Sec2/DPX-GenAI-030424-v218.jpg" alt="DPX GenAI v218" class="carousel-image" data-carousel-index="3" />
            <img src="./Img/Sec2/DPX-GenAI-030424-v23.jpg" alt="DPX GenAI v23" class="carousel-image" data-carousel-index="4" />
            <img src="./Img/Sec2/DPX-GenAI-030424-v28.jpg" alt="DPX GenAI v28" class="carousel-image" data-carousel-index="5" />
          </div>
          <button class="carousel-nav carousel-prev" data-carousel-id="sec2Carousel">‹</button>
          <button class="carousel-nav carousel-next" data-carousel-id="sec2Carousel">›</button>
          <div class="carousel-indicators">
            <span class="indicator active" data-carousel-id="sec2Carousel" data-index="0"></span>
            <span class="indicator" data-carousel-id="sec2Carousel" data-index="1"></span>
            <span class="indicator" data-carousel-id="sec2Carousel" data-index="2"></span>
            <span class="indicator" data-carousel-id="sec2Carousel" data-index="3"></span>
            <span class="indicator" data-carousel-id="sec2Carousel" data-index="4"></span>
            <span class="indicator" data-carousel-id="sec2Carousel" data-index="5"></span>
          </div>
        </div>
      </div>

      <!-- PROJECT 3: GenAI in Creative -->
      <div class="project-card fade-in">
        <div>
          <span class="project-number">03</span>
          <h3 class="project-title">GenAI in Creative Workflows</h3>
          <div class="project-detail">
            <div class="project-detail-label">Challenge</div>
            <p>Creative cycles from concept to production move slowly — limiting how many ideas a team can explore and how fast agencies can align on direction.</p>
          </div>
          <div class="project-detail">
            <div class="project-detail-label">Solution</div>
            <p>Introduced GenAI creative tools into production across BCH brands. Developed photography style guides that aligned agencies on creative direction before shoots. Generated packaging concepts, key visuals, and ecommerce assets — both hands-on and coaching agency partners to integrate AI into their own workflows.</p>
          </div>
          <div class="project-detail">
            <div class="project-detail-label">Impact</div>
            <p>Compressed ideation timelines. Gave leadership more visual options faster. Established a repeatable model for AI-assisted creative that's now part of how PX works with agencies.</p>
          </div>
          <div class="tech-tags">
            <span class="tech-tag">MidJourney</span>
            <span class="tech-tag">Prompt Engineering</span>
            <span class="tech-tag">Photography Direction</span>
            <span class="tech-tag">Agency Management</span>
          </div>
        </div>
        <div class="image-carousel" id="sec3Carousel">
          <div class="carousel-container">
            <img src="./Img/Sec1/IB-04.jpg" alt="Iberogast IB-04" class="carousel-image" data-carousel-index="0" />
            <img src="./Img/Sec1/IB-05.jpg" alt="Iberogast IB-05" class="carousel-image" data-carousel-index="1" />
            <img src="./Img/Sec1/IB-06v2.jpg" alt="Iberogast IB-06v2" class="carousel-image" data-carousel-index="2" />
            <img src="./Img/Sec1/IB-07.jpg" alt="Iberogast IB-07" class="carousel-image" data-carousel-index="3" />
            <img src="./Img/Sec1/IB-08v7.jpg" alt="Iberogast IB-08v7" class="carousel-image" data-carousel-index="4" />
          </div>
          <button class="carousel-nav carousel-prev" data-carousel-id="sec3Carousel">‹</button>
          <button class="carousel-nav carousel-next" data-carousel-id="sec3Carousel">›</button>
          <div class="carousel-indicators">
            <span class="indicator active" data-carousel-id="sec3Carousel" data-index="0"></span>
            <span class="indicator" data-carousel-id="sec3Carousel" data-index="1"></span>
            <span class="indicator" data-carousel-id="sec3Carousel" data-index="2"></span>
            <span class="indicator" data-carousel-id="sec3Carousel" data-index="3"></span>
            <span class="indicator" data-carousel-id="sec3Carousel" data-index="4"></span>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- ============================================
     PORTFOLIO
     ============================================ -->
<section class="portfolio" id="portfolio">
  <div class="container">
    <span class="section-label fade-in">02 — Design Portfolio</span>
    <h2 class="section-title fade-in">6 years of brand work<br>across Consumer Health</h2>
    <p class="section-subtitle fade-in">
      This is the domain expertise behind the AI vision — and the reason I can 
      build tools that actually fit how Consumer Health works.
    </p>

    <!-- MIRAFIBER + MIRAFAST HERO FEATURE -->
    <div class="mirafast-hero fade-in">
      <div class="mirafast-header">
        <div>
          <span class="section-label" style="color: var(--accent);">Featured Project</span>
          <h3 class="mirafast-title">Two brands I designed.<br>$48M in sales. $67M projected.</h3>
          <p class="mirafast-desc">I led brand identity and packaging for both MiraFIBER and MiraFAST — the two products driving over half of MiraLAX's retail growth. Recreated the logo to be simpler and more impactful at shelf. Built a modular design system with MiraFIBER, then replicated it at speed for MiraFAST — inception to design lock in 3 weeks.</p>
        </div>
        <img src="./Img/MiraFAST Endcard_White.jpg" alt="MiraFAST / MiraFIBER Pack Design" class="portfolio-thumb" id="mira-img1" style="aspect-ratio: 4/3; min-height: 200px;" />
      </div>

      <div class="mira-meta-bar">
        <div class="mira-meta-item"><span class="mira-meta-label">Core Team</span> Michael Scrivana, Monica O'Malley, JD English</div>
        <div class="mira-meta-item"><span class="mira-meta-label">Services</span> Brand Identity, Brand World, Packaging Innovation, Graphic Innovation</div>
      </div>

      <!-- Product performance tabs -->
      <div class="mira-product-tabs">
        <div class="mira-tab">
          <div class="mira-tab-label fiber">MiraFIBER</div>
          <div class="mira-tab-number fiber" data-count="19" data-suffix="M" data-prefix="$">$0</div>
          <div class="mira-tab-detail">2025 · projected $25M in 2026</div>
        </div>
        <div class="mira-tab">
          <div class="mira-tab-label fast">MiraFAST</div>
          <div class="mira-tab-number fast" data-count="18" data-suffix="M" data-prefix="$">$0</div>
          <div class="mira-tab-detail">2025 · projected $42M in 2026</div>
        </div>
        <div class="mira-tab">
          <div class="mira-tab-label combined">2026 Combined</div>
          <div class="mira-tab-number combined" data-count="67" data-suffix="M" data-prefix="$">$0</div>
          <div class="mira-tab-detail">projected · up from $37M in 2025</div>
        </div>
      </div>

      <!-- Growth chart -->
      <div class="growth-chart-wrap">
        <div class="growth-chart-header">
          <div class="growth-chart-title">Dollar Sales — 4-Week Periods (2023–2026 Projected)</div>
          <div class="growth-legend">
            <div class="growth-legend-item"><div class="growth-legend-dot" style="background: var(--accent);"></div> MiraFIBER</div>
            <div class="growth-legend-item"><div class="growth-legend-dot" style="background: #E85D4D;"></div> MiraFAST</div>
          </div>
        </div>
        <canvas id="growthChart" height="300"></canvas>
        <div class="growth-chart-source">Hover for detail · Internal sales data · 2026 projections from brand team</div>
      </div>

      <div class="mirafast-stats-grid">
        <div class="mirafast-stat">
          <div class="mirafast-stat-number" data-count="3" data-suffix="rd" data-prefix="">0</div>
          <div class="mirafast-stat-label">Fastest scaling launch<br><span style="color: var(--text-muted);">in Digestive Health, past 5 years</span></div>
        </div>
        <div class="mirafast-stat">
          <div class="mirafast-stat-number" data-count="54" data-suffix="%" data-prefix="">0</div>
          <div class="mirafast-stat-label">Of total MiraLAX brand<br><span style="color: var(--text-muted);">retail sales growth YTD 2025</span></div>
        </div>
        <div class="mirafast-stat">
          <div class="mirafast-stat-number" data-count="81" data-suffix="%" data-prefix="">0</div>
          <div class="mirafast-stat-label">YoY combined growth<br><span style="color: var(--text-muted);">$37M in '25 → $67M projected '26</span></div>
        </div>
        <div class="mirafast-stat">
          <div class="mirafast-stat-number" data-count="115" data-suffix="M+" data-prefix="$">$0</div>
          <div class="mirafast-stat-label">Total projected value<br><span style="color: var(--text-muted);">cumulative since launch through '26</span></div>
        </div>
      </div>

      <div class="mirafast-highlights">
        <div class="mirafast-highlight">
          <strong>#1</strong> Laxative Soft Chew SKU (30 Count)
        </div>
        <div class="mirafast-highlight">
          <strong>#2</strong> Overnight Laxative SKU (30 Count)
        </div>
        <div class="mirafast-highlight">
          <strong>Above</strong> category benchmark repeat rates
        </div>
        <div class="mirafast-highlight">
          <strong>2026</strong> expanded distribution — Kids, Club, count sizes
        </div>
      </div>
    </div>

    <!-- PX PLATFORM FEATURE -->
    <div class="mirafast-hero fade-in" style="margin-top: 48px;">
      <div class="mirafast-header">
        <div>
          <span class="section-label" style="color: var(--accent);">Featured Project</span>
          <h3 class="mirafast-title">PX Platform: Department Website</h3>
          <p style="font-size: 1rem; color: var(--text-secondary); line-height: 1.7; margin-top: 12px; max-width: 640px;">
            Designed and built a digital platform for the Product Experience department — a single destination for PX's capabilities, work, and processes. The same instinct that drives this project drives the AI work: make complex information accessible and useful for the people who need it.
          </p>
          <a href="https://www.px.int.bayer.com" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; margin-top: 24px; font-family: var(--font-mono); font-size: 0.75rem; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; color: #000; background: #fff; text-decoration: none; padding: 12px 24px; border: none; border-radius: 4px; transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;" onmouseover="this.style.background='#f0f0f0';this.style.transform='translateY(-2px)';this.style.boxShadow='0 4px 12px rgba(0,0,0,0.15)'" onmouseout="this.style.background='#fff';this.style.transform='translateY(0)';this.style.boxShadow='none'">Visit PX Platform ↗</a>
        </div>
        <div class="image-carousel" id="pxCarousel">
          <div class="carousel-container">
            <img src="./Img/Sec3/px1.png" alt="PX Platform px1" class="carousel-image" data-carousel-index="0" />
            <img src="./Img/Sec3/px2.png" alt="PX Platform px2" class="carousel-image" data-carousel-index="1" />
            <img src="./Img/Sec3/px3.png" alt="PX Platform px3" class="carousel-image" data-carousel-index="2" />
            <img src="./Img/Sec3/px4.png" alt="PX Platform px4" class="carousel-image" data-carousel-index="3" />
            <img src="./Img/Sec3/px5.png" alt="PX Platform px5" class="carousel-image" data-carousel-index="4" />
          </div>
          <button class="carousel-nav carousel-prev" data-carousel-id="pxCarousel">‹</button>
          <button class="carousel-nav carousel-next" data-carousel-id="pxCarousel">›</button>
          <div class="carousel-indicators">
            <span class="indicator active" data-carousel-id="pxCarousel" data-index="0"></span>
            <span class="indicator" data-carousel-id="pxCarousel" data-index="1"></span>
            <span class="indicator" data-carousel-id="pxCarousel" data-index="2"></span>
            <span class="indicator" data-carousel-id="pxCarousel" data-index="3"></span>
            <span class="indicator" data-carousel-id="pxCarousel" data-index="4"></span>
          </div>
        </div>
      </div>

      <div class="mira-meta-bar">
        <div class="mira-meta-item"><span class="mira-meta-label">Role</span> Design & Development Lead</div>
        <div class="mira-meta-item"><span class="mira-meta-label">Services</span> Web Design, UI/UX, Content Architecture, Frontend Development</div>
      </div>
    </div>

    <div style="text-align: center; margin-top: 48px;">
      <a href="https://www.michaelscrivana.com" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; font-family: var(--font-mono); font-size: 0.75rem; letter-spacing: 0.08em; text-transform: uppercase; color: var(--accent); text-decoration: none; padding: 12px 24px; border: 1px solid var(--border-color); border-radius: 4px; transition: border-color 0.2s ease, background 0.2s ease;" onmouseover="this.style.borderColor='var(--accent)';this.style.background='var(--accent-light)'" onmouseout="this.style.borderColor='var(--border-color)';this.style.background='transparent'">View All Projects ↗</a>
    </div>

<!-- LIGHTBOX MODAL -->
<div class="lightbox-overlay" id="lightbox">
  <button class="lightbox-close" id="lightboxClose">✕</button>
  <button class="lightbox-nav lightbox-prev" id="lightboxPrev" style="display: none;">‹</button>
  <img id="lightboxImage" src="" alt="Enlarged view" class="lightbox-image" />
  <button class="lightbox-nav lightbox-next" id="lightboxNext" style="display: none;">›</button>
  <div class="lightbox-counter" id="lightboxCounter" style="display: none;"></div>
</div>

<!-- PROJECT MODAL -->
<div class="modal-overlay" id="projectModal">
  <div class="modal">
    <button class="modal-close" id="modalClose">✕</button>
    <div class="modal-hero-image" id="modalHero">[ Project Hero Image ]</div>
    <div class="modal-body">
      <h2 class="modal-title" id="modalTitle">Project Title</h2>
      <div class="modal-role" id="modalRole">Role</div>
      <p class="modal-description" id="modalDesc">Description</p>
      <div class="modal-detail-grid" id="modalDetails"></div>
      <div class="modal-gallery" id="modalGallery"></div>
    </div>
  </div>
</div>
  </div>
</section>

<!-- ============================================
     ROLE FIT
     ============================================ -->
<section class="role-fit" id="fit">
  <div class="container">
    <span class="section-label fade-in">03 — Role Fit</span>
    <h2 class="section-title fade-in">What the role needs.<br>What I bring.</h2>

    <div class="fit-grid stagger">

      <div class="fit-card fade-in">
        <div class="fit-card-need">Build AI proficiency program</div>
        <div class="fit-card-have">Helped build a Design Training Module for Consumer Health — translating a complex discipline into practical guidance for non-design teams. Same approach this role requires, applied to AI.</div>
      </div>

      <div class="fit-card fade-in">
        <div class="fit-card-need">Enable peer learning at scale</div>
        <div class="fit-card-have">Grew from informal coaching to PX's go-to AI resource — through demos and working tools, not slide decks.</div>
      </div>

      <div class="fit-card fade-in">
        <div class="fit-card-need">Embed compliance as guardrails</div>
        <div class="fit-card-have">Compliance isn't a gate — it's architecture. Brand guardrails are coded directly into the One A Day agent, turning 6 years of standards expertise into automated, scalable enforcement.</div>
      </div>

      <div class="fit-card fade-in">
        <div class="fit-card-need">Partner cross-functionally</div>
        <div class="fit-card-have">Selected to represent Product Experience on Bayer's Science Home 5-person AI team — bridging Design, Product Development, Regulatory, and Medical to shape the division's AI roadmap.</div>
      </div>

      <div class="fit-card fade-in">
        <div class="fit-card-need">Track adoption & impact</div>
        <div class="fit-card-have">The One A Day agent generates quantifiable compliance scores per submission. Measuring impact isn't an afterthought — it's built into the tool.</div>
      </div>

      <div class="fit-card fade-in">
        <div class="fit-card-need">Share wins that inspire</div>
        <div class="fit-card-have">This website — Claude, VS Code, shipped. Introduced GenAI creative tools across PX. Adoption starts when people see something working, not when they read about it.
          <a href="https://github.com/MichaelScrivana/ms-porfolio-1/tree/main" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; margin-top: 12px; color: #000; background: #fff; text-decoration: none; font-family: var(--font-mono); font-size: 0.7rem; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; padding: 8px 16px; border: none; border-radius: 4px; transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;" onmouseover="this.style.background='#f0f0f0';this.style.transform='translateY(-2px)';this.style.boxShadow='0 4px 12px rgba(0,0,0,0.15)'" onmouseout="this.style.background='#fff';this.style.transform='translateY(0)';this.style.boxShadow='none'">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
            View Repo
          </a>
        </div>
      </div>

    </div>
  </div>
</section>


<!-- ============================================
     TIMELINE
     ============================================ -->
<section class="timeline" id="career">
  <div class="container">
    <span class="section-label fade-in">04 — Career</span>
    <h2 class="section-title fade-in">Experience &amp; Education</h2>

    <div class="timeline-items stagger">
      <div class="timeline-item fade-in">
        <div class="timeline-year">May 2019 — Present</div>
        <div class="timeline-content">
          <h3>Bayer Consumer Health</h3>
          <div class="role">Brand Designer & AI Strategy Lead — Whippany, NJ</div>
          <p><strong style="font-family: var(--font-mono); font-size: 0.68rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-muted); font-weight: 500;">AI Leadership & Enablement</strong></p>
          <p style="margin-top: 8px;">PX representative on Bayer's Consumer Health Science Home AI team. Consulting leadership on AI strategy, prototyping production tools on Azure with Claude, and coaching peers on practical adoption. Building compliance directly into AI-powered workflows.</p>
          <p style="margin-top: 16px;"><strong style="font-family: var(--font-mono); font-size: 0.68rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-muted); font-weight: 500;">Brand Design & Creative Leadership</strong></p>
          <p style="margin-top: 8px;">Led brand identity and package design across a dozen+ consumer health brands. Designed MiraFAST in a 3-week sprint and built the MiraFIBER system it scaled from — $37M combined in 2025, $67M projected for 2026. Produced 700+ product renders for GS1 syndication. Directed photoshoots, managed agency partners, and led design thinking workshops across the organization.</p>
        </div>
      </div>
      <div class="timeline-item fade-in">
        <div class="timeline-year">Dec 2017 — May 2019</div>
        <div class="timeline-content">
          <h3>William Paterson University — Research Technology</h3>
          <div class="role">Design Lab Manager — Wayne, NJ</div>
          <p>Managed lab technology stack including 3D printers, scanners, and VR/AR systems — calibrating hardware, troubleshooting firmware, and training faculty and students on emerging tools. Developed interdisciplinary research prototypes with the Psychology department, managing the full digital-to-physical fabrication pipeline.</p>
        </div>
      </div>
      <div class="timeline-item fade-in">
        <div class="timeline-year">Dec 2014 — May 2016</div>
        <div class="timeline-content">
          <h3>Siemens Healthcare</h3>
          <div class="role">Electromechanical Technician — Flanders, NJ</div>
          <p>Assembled and tested electronic and mechanical subsystems for healthcare diagnostic equipment. Performed circuit calibration and troubleshooting to meet strict quality control standards. Beta tested new software and hardware solutions, documenting defects and providing structured feedback that drove product improvements.</p>
        </div>
      </div>
      <div class="timeline-item fade-in">
        <div class="timeline-year">2017 — 2019</div>
        <div class="timeline-content">
          <h3>William Paterson University</h3>
          <div class="role">BFA, Graphic Design — Summa Cum Laude</div>
        </div>
      </div>
      <div class="timeline-item fade-in">
        <div class="timeline-year">2016 — 2017</div>
        <div class="timeline-content">
          <h3>County College of Morris</h3>
          <div class="role">AFA, Visual Arts — Summa Cum Laude</div>
        </div>
      </div>
      <div class="timeline-item fade-in">
        <div class="timeline-year">2011 — 2015</div>
        <div class="timeline-content">
          <h3>Art Students League of New York</h3>
          <div class="role">Drawing & Painting</div>
          <p>Classical training in observation, composition, and visual storytelling.</p>
        </div>
      </div>
    </div>

    <div class="fade-in" style="margin-top: 64px; padding-top: 40px; border-top: 1px solid var(--border-color);">
      <span class="section-label" style="margin-bottom: 16px;">References</span>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px; max-width: 640px;">
        <div>
          <h3 style="font-family: var(--font-display); font-size: 1rem; font-weight: 700; margin-bottom: 2px;">Chris Padain</h3>
          <div style="font-family: var(--font-mono); font-size: 0.65rem; letter-spacing: 0.06em; color: var(--text-muted); text-transform: uppercase; margin-bottom: 8px;">Head of Product Experience</div>
          <a href="mailto:christopher.padain@bayer.com" style="font-family: var(--font-mono); font-size: 0.75rem; letter-spacing: 0.04em; color: var(--accent); text-decoration: none;">christopher.padain@bayer.com</a>
        </div>
        <div>
          <h3 style="font-family: var(--font-display); font-size: 1rem; font-weight: 700; margin-bottom: 2px;">Beth Harlor</h3>
          <div style="font-family: var(--font-mono); font-size: 0.65rem; letter-spacing: 0.06em; color: var(--text-muted); text-transform: uppercase; margin-bottom: 8px;">Head of Design</div>
          <a href="mailto:beth.harlor@bayer.com" style="font-family: var(--font-mono); font-size: 0.75rem; letter-spacing: 0.04em; color: var(--accent); text-decoration: none;">beth.harlor@bayer.com</a>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ============================================
     BRAND RUNNER GAME
     ============================================ -->
<section class="game-section" id="game">
  <div class="container">
    <div class="game-wrapper fade-in">
      <div class="game-intro" id="gameIntro">
        <div class="game-intro-text">
          <span class="section-label" style="color: var(--accent); margin-bottom: 8px;">Bonus Round</span>
          <h2 style="font-family: var(--font-display); font-size: clamp(2.5rem, 5vw, 4rem); font-weight: 900; letter-spacing: -0.02em; line-height: 1;">THINK FAST</h2>
          <p style="font-family: var(--font-mono); font-size: 0.75rem; letter-spacing: 0.08em; text-transform: uppercase; color: var(--text-muted); margin-top: 12px;">Press Space or Tap to jump</p>
        </div>
      </div>
      <canvas id="gameCanvas"></canvas>
      <div class="game-hud">
        <div class="game-score" id="gameScore">0</div>
        <div class="game-score-label">BRANDS CLEARED</div>
      </div>
      <div class="game-over-overlay" id="gameOver" style="display: none;">
        <div class="game-intro-text">
          <h2 style="font-family: var(--font-display); font-size: clamp(1.8rem, 4vw, 3rem); font-weight: 900; letter-spacing: -0.02em; line-height: 1;" id="gameOverTitle">NICE RUN</h2>
          <p style="font-family: var(--font-mono); font-size: 0.85rem; letter-spacing: 0.06em; color: var(--text-muted); margin-top: 12px;"><span id="finalScore">0</span> brands cleared</p>
          <p style="font-family: var(--font-mono); font-size: 0.72rem; letter-spacing: 0.08em; text-transform: uppercase; color: var(--text-muted); margin-top: 16px; cursor: pointer;" onclick="restartGame()">Press Space or Tap to play again</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ============================================
     FOOTER
     ============================================ -->
<footer>
  <div class="container">
    <div class="footer-grid">
      <div>
        <div class="footer-name">Michael Scrivana</div>
        <div class="footer-links">
          <a href="mailto:michael.scrivana@bayer.com">michael.scrivana@bayer.com</a>
          <a href="tel:9739197414">973.919.7414</a>
          <a href="https://www.michaelscrivana.com" target="_blank">michaelscrivana.com</a>
        </div>
      </div>
      <div class="footer-built">
        Designed &amp; built with Claude<br>
        by the candidate, for the role.
      </div>
    </div>
  </div>
</footer>

<!-- ============================================
     SCROLL ANIMATION SCRIPT
     ============================================ -->
<script>
  // ==========================================
  // THEME TOGGLE
  // ==========================================
  const toggle = document.getElementById('themeToggle');

  toggle.addEventListener('click', () => {
    const html = document.documentElement;
    const isLight = html.getAttribute('data-theme') === 'light';
    const newTheme = isLight ? 'dark' : 'light';
    html.setAttribute('data-theme', newTheme);
    // Sync browser color-scheme for iOS Safari
    var csMeta = document.querySelector('meta[name="color-scheme"]');
    if (csMeta) csMeta.setAttribute('content', newTheme);
    var tcMeta = document.querySelector('meta[name="theme-color"]');
    if (tcMeta) tcMeta.setAttribute('content', newTheme === 'dark' ? '#0E0E10' : '#FAFAF8');
  });

  // ==========================================
  // HAMBURGER MENU
  // ==========================================
  (function() {
    var hamburger = document.getElementById('navHamburger');
    var mobileMenu = document.getElementById('mobileMenu');
    if (!hamburger || !mobileMenu) return;

    hamburger.addEventListener('click', function() {
      hamburger.classList.toggle('active');
      mobileMenu.classList.toggle('open');
      // Prevent body scroll when menu is open
      document.body.style.overflow = mobileMenu.classList.contains('open') ? 'hidden' : '';
    });

    // Close menu when a link is tapped
    var menuLinks = mobileMenu.querySelectorAll('.mobile-menu-link');
    menuLinks.forEach(function(link) {
      link.addEventListener('click', function() {
        hamburger.classList.remove('active');
        mobileMenu.classList.remove('open');
        document.body.style.overflow = '';
      });
    });
  })();

  // ==========================================
  // SCROLL ANIMATIONS
  // ==========================================
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    },
    { threshold: 0.08 }
  );

  document.querySelectorAll('.fade-in').forEach((el) => {
    observer.observe(el);
  });

  // ==========================================
  // AGENT DEMO ANIMATION
  // ==========================================
  function runAgentDemo() {
    var body = document.getElementById('agentBody');
    var replay = document.getElementById('agentReplay');
    if (!body) return;
    replay.classList.remove('show');

    // Reset all elements
    var lines = body.querySelectorAll('.agent-line');
    var checks = body.querySelectorAll('.agent-check');
    var score = body.querySelector('.agent-score');
    lines.forEach(function(l) { l.classList.remove('visible'); });
    checks.forEach(function(c) { c.classList.remove('visible'); });
    if (score) score.classList.remove('visible');

    // Hide cursor initially, show on step 3
    var cursor = body.querySelector('.agent-cursor');
    if (cursor) cursor.style.display = '';

    var timeline = [
      { delay: 400, fn: function() { lines[0].classList.add('visible'); } },
      { delay: 1200, fn: function() { lines[1].classList.add('visible'); } },
      { delay: 2200, fn: function() { lines[2].classList.add('visible'); } },
      // Checks appear one by one
      { delay: 3000, fn: function() { checks[0].classList.add('visible'); } },
      { delay: 3250, fn: function() { checks[1].classList.add('visible'); } },
      { delay: 3500, fn: function() { checks[2].classList.add('visible'); } },
      { delay: 3750, fn: function() { checks[3].classList.add('visible'); } },
      { delay: 4000, fn: function() { checks[4].classList.add('visible'); } },
      { delay: 4400, fn: function() { checks[5].classList.add('visible'); } },
      // Hide cursor, show flag
      { delay: 4800, fn: function() { if (cursor) cursor.style.display = 'none'; lines[3].classList.add('visible'); } },
      // Complete
      { delay: 5800, fn: function() { lines[4].classList.add('visible'); } },
      // Score
      { delay: 6500, fn: function() { score.classList.add('visible'); } },
      // Show replay
      { delay: 7500, fn: function() { replay.classList.add('show'); } }
    ];

    timeline.forEach(function(step) {
      setTimeout(step.fn, step.delay);
    });
  }

  // Auto-play when scrolled into view
  (function() {
    var demo = document.getElementById('agentDemo');
    if (!demo) return;
    var played = false;

    var demoObserver = new IntersectionObserver(
      function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting && !played) {
            played = true;
            setTimeout(runAgentDemo, 300);
          }
        });
      },
      { threshold: 0.4 }
    );

    demoObserver.observe(demo);
  })();

  // ==========================================
  // STAT COUNT-UP ANIMATION (universal)
  // ==========================================
  (function() {
    var allCountEls = document.querySelectorAll('[data-count]');
    if (!allCountEls.length) return;

    function easeOutExpo(t) {
      return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);
    }

    function animateCount(el) {
      if (el._counted) return;
      el._counted = true;

      var target = parseInt(el.getAttribute('data-count'));
      var suffix = el.getAttribute('data-suffix') || '';
      var prefix = el.getAttribute('data-prefix');
      // Default prefix: '$' if suffix contains 'M', '' otherwise
      var pre = prefix !== null ? prefix : (suffix.indexOf('M') !== -1 ? '$' : '');
      var duration = 1800;
      var start = performance.now();
      var useCommas = target >= 1000;

      function update(now) {
        var elapsed = now - start;
        var progress = Math.min(elapsed / duration, 1);
        var eased = easeOutExpo(progress);
        var current = Math.round(eased * target);
        var formatted = useCommas ? current.toLocaleString() : current;
        el.textContent = pre + formatted + suffix;
        if (progress < 1) requestAnimationFrame(update);
      }

      requestAnimationFrame(update);
    }

    // Group countable elements by their nearest section-level parent
    // and observe each group independently
    var containers = [];
    allCountEls.forEach(function(el) {
      // Walk up to find a suitable container
      var parent = el.closest('.hero-stats, .mira-product-tabs, .mirafast-stats-grid');
      if (parent && containers.indexOf(parent) === -1) {
        containers.push(parent);
      }
    });

    var countObserver = new IntersectionObserver(
      function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            var els = entry.target.querySelectorAll('[data-count]');
            els.forEach(function(el, i) {
              setTimeout(function() { animateCount(el); }, i * 150);
            });
            countObserver.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.3 }
    );

    containers.forEach(function(c) { countObserver.observe(c); });
  })();

  // ==========================================

  // ==========================================
  // GROWTH CHART (animated)
  // ==========================================
  (function() {
    const fiberData = [
      { date: '05-21-23', val: 15320 }, { date: '06-18-23', val: 135267 },
      { date: '07-16-23', val: 268018 }, { date: '08-13-23', val: 442377 },
      { date: '09-10-23', val: 478074 }, { date: '10-08-23', val: 543687 },
      { date: '11-05-23', val: 661266 }, { date: '12-03-23', val: 692155 },
      { date: '12-31-23', val: 756039 }, { date: '01-28-24', val: 1113236 },
      { date: '02-25-24', val: 1146367 }, { date: '03-24-24', val: 1264538 },
      { date: '04-21-24', val: 1365280 }, { date: '05-19-24', val: 1382461 },
      { date: '06-16-24', val: 1170677 }, { date: '07-14-24', val: 1267702 },
      { date: '08-11-24', val: 1216875 }, { date: '09-08-24', val: 944667 },
      { date: '10-06-24', val: 1246371 }, { date: '11-03-24', val: 1264824 },
      { date: '12-01-24', val: 1336884 }, { date: '12-29-24', val: 1128902 },
      { date: '01-26-25', val: 1478747 }, { date: '02-23-25', val: 1452112 },
      { date: '03-23-25', val: 1590318 }, { date: '04-20-25', val: 1628045 },
      { date: '05-18-25', val: 1561164 }, { date: '06-15-25', val: 1398059 },
      { date: '07-13-25', val: 1480766 }, { date: '08-10-25', val: 1488892 },
      { date: '09-07-25', val: 1449451 }, { date: '10-05-25', val: 1380192 },
      { date: '11-02-25', val: 1481809 }, { date: '11-30-25', val: 1467951 },
      { date: '12-28-25', val: 1517605 }, { date: '01-25-26', val: 1758418 }
    ];
    const fastData = [
      { date: '03-23-25', val: 660 }, { date: '04-20-25', val: 252896 },
      { date: '05-18-25', val: 845582 }, { date: '06-15-25', val: 1522664 },
      { date: '07-13-25', val: 1899110 }, { date: '08-10-25', val: 2126934 },
      { date: '09-07-25', val: 2308453 }, { date: '10-05-25', val: 2385283 },
      { date: '11-02-25', val: 2252483 }, { date: '11-30-25', val: 2199846 },
      { date: '12-28-25', val: 2215333 }, { date: '01-25-26', val: 2649231 }
    ];

    // 2026 projections (brand team: FIBER $25M, FAST $42M)
    var projDates = ['04-26', '07-26', '10-26', '12-26'];
    var fiberProj = [
      { date: '04-26', val: 1850000 }, { date: '07-26', val: 1950000 },
      { date: '10-26', val: 1950000 }, { date: '12-26', val: 2000000 }
    ];
    var fastProj = [
      { date: '04-26', val: 2900000 }, { date: '07-26', val: 3300000 },
      { date: '10-26', val: 3500000 }, { date: '12-26', val: 3600000 }
    ];

    const allDates = fiberData.map(function(d) { return d.date; }).concat(projDates);
    const projStartIdx = allDates.indexOf('04-26');

    const gc = document.getElementById('growthChart');
    if (!gc) return;
    const gctx = gc.getContext('2d');
    const gdpr = Math.min(window.devicePixelRatio || 1, 2);
    const maxVal = 3500000;
    const gpad = { top: 20, right: 16, bottom: 44, left: 58 };
    const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

    // Animation state
    var animProgress = 0;   // 0 to 1 for actuals
    var projProgress = 0;   // 0 to 1 for projections
    var animStarted = false;
    var animDone = false;
    var animFrame = null;

    function resizeGC() {
      var rect = gc.parentElement.getBoundingClientRect();
      var w = rect.width - 56;
      var h = 300;
      gc.style.width = w + 'px';
      gc.style.height = h + 'px';
      gc.width = w * gdpr;
      gc.height = h * gdpr;
      gc._w = w;
      gc._h = h;
      gctx.setTransform(gdpr, 0, 0, gdpr, 0, 0);
    }

    function gX(i) { return gpad.left + (i / (allDates.length - 1)) * (gc._w - gpad.left - gpad.right); }
    function gY(v) { return gpad.top + (1 - v / maxVal) * (gc._h - gpad.top - gpad.bottom); }

    // Easing
    function easeOutCubic(t) { return 1 - Math.pow(1 - t, 3); }

    // Get points array with pixel coords for a dataset
    function getPoints(data) {
      var pts = [];
      for (var i = 0; i < data.length; i++) {
        var idx = allDates.indexOf(data[i].date);
        if (idx === -1) continue;
        pts.push({ x: gX(idx), y: gY(data[i].val), val: data[i].val, date: data[i].date });
      }
      return pts;
    }

    // Get total path length for a set of points
    function pathLength(pts) {
      var len = 0;
      for (var i = 1; i < pts.length; i++) {
        var dx = pts[i].x - pts[i-1].x;
        var dy = pts[i].y - pts[i-1].y;
        len += Math.sqrt(dx*dx + dy*dy);
      }
      return len;
    }

    // Get point along path at distance d
    function pointAtDistance(pts, d) {
      var traveled = 0;
      for (var i = 1; i < pts.length; i++) {
        var dx = pts[i].x - pts[i-1].x;
        var dy = pts[i].y - pts[i-1].y;
        var segLen = Math.sqrt(dx*dx + dy*dy);
        if (traveled + segLen >= d) {
          var t = (d - traveled) / segLen;
          return { x: pts[i-1].x + dx * t, y: pts[i-1].y + dy * t, seg: i };
        }
        traveled += segLen;
      }
      return pts[pts.length - 1];
    }

    // Draw a partial line + area up to a given fraction of total path
    function drawAnimatedLine(data, color, frac) {
      if (frac <= 0) return;
      var pts = getPoints(data);
      if (pts.length < 2) return;
      var total = pathLength(pts);
      var drawLen = total * Math.min(frac, 1);
      var endPt = pointAtDistance(pts, drawLen);

      // Determine how many full segments + partial
      var traveled = 0;
      var drawPts = [pts[0]];
      for (var i = 1; i < pts.length; i++) {
        var dx = pts[i].x - pts[i-1].x;
        var dy = pts[i].y - pts[i-1].y;
        var segLen = Math.sqrt(dx*dx + dy*dy);
        if (traveled + segLen <= drawLen) {
          drawPts.push(pts[i]);
          traveled += segLen;
        } else {
          drawPts.push(endPt);
          break;
        }
      }

      // Area fill
      gctx.save();
      gctx.globalAlpha = 0.08 * Math.min(frac * 2, 1); // fade in
      gctx.fillStyle = color;
      gctx.beginPath();
      gctx.moveTo(drawPts[0].x, drawPts[0].y);
      for (var i = 1; i < drawPts.length; i++) {
        gctx.lineTo(drawPts[i].x, drawPts[i].y);
      }
      gctx.lineTo(drawPts[drawPts.length-1].x, gY(0));
      gctx.lineTo(drawPts[0].x, gY(0));
      gctx.closePath();
      gctx.fill();
      gctx.restore();

      // Line
      gctx.beginPath();
      gctx.strokeStyle = color;
      gctx.lineWidth = 2.5;
      gctx.lineJoin = 'round';
      gctx.lineCap = 'round';
      gctx.moveTo(drawPts[0].x, drawPts[0].y);
      for (var i = 1; i < drawPts.length; i++) {
        gctx.lineTo(drawPts[i].x, drawPts[i].y);
      }
      gctx.stroke();

      // Moving head dot
      var last = drawPts[drawPts.length - 1];
      gctx.beginPath();
      gctx.arc(last.x, last.y, 4, 0, Math.PI * 2);
      gctx.fillStyle = color;
      gctx.fill();

      // Glow ring on head (pulses when drawing, static when done)
      gctx.save();
      gctx.beginPath();
      var glowR = frac >= 1 ? 7 : 5 + Math.sin(performance.now() / 200) * 2;
      gctx.arc(last.x, last.y, glowR, 0, Math.PI * 2);
      gctx.strokeStyle = color;
      gctx.globalAlpha = frac >= 1 ? 0.3 : 0.4;
      gctx.lineWidth = 2;
      gctx.stroke();
      gctx.restore();
    }

    // Draw projection with animation
    function drawAnimatedProjection(actualData, projData, color, frac) {
      if (frac <= 0) return;
      var lastActual = actualData[actualData.length - 1];
      var allProjPts = [lastActual].concat(projData);
      var pts = getPoints(allProjPts);
      if (pts.length < 2) return;

      var total = pathLength(pts);
      var drawLen = total * Math.min(frac, 1);

      var traveled = 0;
      var drawPts = [pts[0]];
      for (var i = 1; i < pts.length; i++) {
        var dx = pts[i].x - pts[i-1].x;
        var dy = pts[i].y - pts[i-1].y;
        var segLen = Math.sqrt(dx*dx + dy*dy);
        if (traveled + segLen <= drawLen) {
          drawPts.push(pts[i]);
          traveled += segLen;
        } else {
          var endPt = pointAtDistance(pts, drawLen);
          drawPts.push(endPt);
          break;
        }
      }

      gctx.save();
      // Dashed line
      gctx.setLineDash([6, 4]);
      gctx.strokeStyle = color;
      gctx.globalAlpha = 0.5 * Math.min(frac * 2, 1);
      gctx.lineWidth = 2;
      gctx.lineJoin = 'round';
      gctx.beginPath();
      gctx.moveTo(drawPts[0].x, drawPts[0].y);
      for (var i = 1; i < drawPts.length; i++) {
        gctx.lineTo(drawPts[i].x, drawPts[i].y);
      }
      gctx.stroke();
      gctx.setLineDash([]);

      // Area
      gctx.globalAlpha = 0.04 * Math.min(frac * 2, 1);
      gctx.fillStyle = color;
      gctx.beginPath();
      gctx.moveTo(drawPts[0].x, drawPts[0].y);
      for (var i = 1; i < drawPts.length; i++) {
        gctx.lineTo(drawPts[i].x, drawPts[i].y);
      }
      gctx.lineTo(drawPts[drawPts.length-1].x, gY(0));
      gctx.lineTo(drawPts[0].x, gY(0));
      gctx.closePath();
      gctx.fill();

      // End dot (hollow) only when fully drawn
      if (frac >= 1) {
        var last = pts[pts.length - 1];
        gctx.globalAlpha = 0.5;
        gctx.beginPath();
        gctx.arc(last.x, last.y, 4, 0, Math.PI * 2);
        gctx.strokeStyle = color;
        gctx.lineWidth = 2;
        gctx.stroke();
      }
      gctx.restore();
    }

    // Static elements (grid, labels, annotations)
    function drawStatic(showProjZone) {
      gctx.clearRect(0, 0, gc._w, gc._h);

      // Projection zone (fades in)
      if (projStartIdx !== -1 && showProjZone) {
        var px = gX(projStartIdx) - 20;
        gctx.fillStyle = 'rgba(255,255,255,0.015)';
        gctx.fillRect(px, gpad.top, gc._w - gpad.right - px, gc._h - gpad.top - gpad.bottom);
        gctx.fillStyle = 'rgba(255,255,255,' + (0.2 * showProjZone) + ')';
        gctx.font = '600 8px "IBM Plex Mono", monospace';
        gctx.textAlign = 'left';
        gctx.fillText('2026 PROJECTION', px + 8, gpad.top + 14);
        gctx.save();
        gctx.setLineDash([3, 3]);
        gctx.strokeStyle = 'rgba(255,255,255,' + (0.08 * showProjZone) + ')';
        gctx.lineWidth = 1;
        gctx.beginPath();
        gctx.moveTo(px, gpad.top);
        gctx.lineTo(px, gc._h - gpad.bottom);
        gctx.stroke();
        gctx.setLineDash([]);
        gctx.restore();
      }

      // Grid
      var gridVals = [0, 500000, 1000000, 1500000, 2000000, 2500000, 3000000, 3500000];
      for (var g = 0; g < gridVals.length; g++) {
        var y = gY(gridVals[g]);
        gctx.strokeStyle = 'rgba(255,255,255,0.05)';
        gctx.lineWidth = 1;
        gctx.beginPath();
        gctx.moveTo(gpad.left, y);
        gctx.lineTo(gc._w - gpad.right, y);
        gctx.stroke();
        gctx.fillStyle = 'rgba(255,255,255,0.25)';
        gctx.font = '9px "IBM Plex Mono", monospace';
        gctx.textAlign = 'right';
        gctx.fillText('$' + (gridVals[g] / 1000000).toFixed(1) + 'M', gpad.left - 6, y + 3);
      }

      // X labels
      gctx.fillStyle = 'rgba(255,255,255,0.25)';
      gctx.font = '8px "IBM Plex Mono", monospace';
      gctx.textAlign = 'center';
      for (var i = 0; i < allDates.length; i++) {
        if (i % 5 === 0 || i === allDates.length - 1 || projDates.indexOf(allDates[i]) !== -1) {
          var parts = allDates[i].split('-');
          var m = parseInt(parts[0]) - 1;
          gctx.fillText(months[m] + " '" + parts[1], gX(i), gc._h - gpad.bottom + 16);
        }
      }

      // MiraFAST launch line (appears when animation reaches that point)
      var fli = allDates.indexOf('03-23-25');
      var fliNorm = fli / (fiberData.length - 1); // normalized position within actuals
      if (fli !== -1 && animProgress >= fliNorm) {
        var ax = gX(fli);
        var fadeIn = Math.min((animProgress - fliNorm) / 0.05, 1);
        gctx.save();
        gctx.setLineDash([3, 3]);
        gctx.strokeStyle = 'rgba(232, 93, 77,' + (0.35 * fadeIn) + ')';
        gctx.lineWidth = 1;
        gctx.beginPath();
        gctx.moveTo(ax, gpad.top);
        gctx.lineTo(ax, gc._h - gpad.bottom);
        gctx.stroke();
        gctx.setLineDash([]);
        gctx.fillStyle = 'rgba(232, 93, 77,' + (0.6 * fadeIn) + ')';
        gctx.font = '600 8px "IBM Plex Mono", monospace';
        gctx.textAlign = 'center';
        gctx.fillText('MIRAFAST LAUNCH', ax, gpad.top - 3);
        gctx.restore();
      }
    }

    // Main animation loop
    var animStart = null;
    var ACTUAL_DUR = 2500;  // ms for actual lines
    var PROJ_DUR = 1000;    // ms for projections
    var PROJ_DELAY = 400;   // pause between actuals finishing and projections starting

    function animate(timestamp) {
      if (!animStart) animStart = timestamp;
      var elapsed = timestamp - animStart;

      // Phase 1: draw actual lines
      animProgress = easeOutCubic(Math.min(elapsed / ACTUAL_DUR, 1));

      // Phase 2: draw projections (starts after actuals + delay)
      var projElapsed = elapsed - ACTUAL_DUR - PROJ_DELAY;
      projProgress = projElapsed > 0 ? easeOutCubic(Math.min(projElapsed / PROJ_DUR, 1)) : 0;

      var projZoneOpacity = projElapsed > 0 ? Math.min(projElapsed / 300, 1) : 0;

      // Draw frame
      drawStatic(projZoneOpacity);
      drawAnimatedLine(fiberData, '#4D8FE8', animProgress);
      drawAnimatedLine(fastData, '#E85D4D', animProgress);

      if (projProgress > 0) {
        drawAnimatedProjection(fiberData, fiberProj, '#4D8FE8', projProgress);
        drawAnimatedProjection(fastData, fastProj, '#E85D4D', projProgress);
      }

      if (elapsed < ACTUAL_DUR + PROJ_DELAY + PROJ_DUR) {
        animFrame = requestAnimationFrame(animate);
      } else {
        animDone = true;
      }
    }

    function startAnimation() {
      if (animStarted) return;
      animStarted = true;
      animStart = null;
      animProgress = 0;
      projProgress = 0;
      animDone = false;
      animFrame = requestAnimationFrame(animate);
    }

    // Draw static grid immediately (so it's not blank before scroll)
    function drawInitial() {
      drawStatic(0);
    }

    // Tooltip
    var tip = document.createElement('div');
    tip.style.cssText = 'position:absolute;pointer-events:none;background:var(--bg-primary);border:1px solid var(--border-color);padding:8px 12px;font-family:"IBM Plex Mono",monospace;font-size:0.68rem;color:var(--text-primary);opacity:0;transition:opacity 0.15s;z-index:10;white-space:nowrap;';
    gc.parentElement.style.position = 'relative';
    gc.parentElement.appendChild(tip);

    gc.addEventListener('mousemove', function(e) {
      if (!animDone) return; // no tooltip during animation
      var rect = gc.getBoundingClientRect();
      var mx = e.clientX - rect.left;
      var ci = 0, cd = Infinity;
      for (var i = 0; i < allDates.length; i++) {
        var d = Math.abs(mx - gX(i));
        if (d < cd) { cd = d; ci = i; }
      }
      if (cd > 30) { tip.style.opacity = '0'; return; }
      var date = allDates[ci];
      var isProj = projDates.indexOf(date) !== -1;
      var fp = null, sp = null;
      for (var i = 0; i < fiberData.length; i++) { if (fiberData[i].date === date) fp = fiberData[i]; }
      if (!fp) { for (var i = 0; i < fiberProj.length; i++) { if (fiberProj[i].date === date) fp = fiberProj[i]; } }
      for (var i = 0; i < fastData.length; i++) { if (fastData[i].date === date) sp = fastData[i]; }
      if (!sp) { for (var i = 0; i < fastProj.length; i++) { if (fastProj[i].date === date) sp = fastProj[i]; } }
      var parts = date.split('-');
      var m = parseInt(parts[0]) - 1;
      var label = months[m] + " '" + parts[1] + (isProj ? ' (projected)' : '');
      var html = '<div style="color:var(--text-muted);margin-bottom:4px;">' + label + '</div>';
      if (fp) html += '<div style="color:#4D8FE8;">MiraFIBER: ' + (isProj ? '~' : '') + '$' + fp.val.toLocaleString() + '</div>';
      if (sp) html += '<div style="color:#E85D4D;">MiraFAST: ' + (isProj ? '~' : '') + '$' + sp.val.toLocaleString() + '</div>';
      if (fp && sp) html += '<div style="color:var(--text-primary);margin-top:4px;border-top:1px solid var(--border-color);padding-top:4px;">Combined: ' + (isProj ? '~' : '') + '$' + (fp.val + sp.val).toLocaleString() + '</div>';
      tip.innerHTML = html;
      tip.style.opacity = '1';
      tip.style.left = Math.min(mx + 12, gc._w - 200) + 'px';
      tip.style.top = (e.clientY - rect.top - 20) + 'px';
    });

    gc.addEventListener('mouseleave', function() { tip.style.opacity = '0'; });

    // Init + trigger on scroll
    resizeGC();
    drawInitial();

    var chartObserver = new IntersectionObserver(
      function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            startAnimation();
            chartObserver.unobserve(gc);
          }
        });
      },
      { threshold: 0.3 }
    );
    chartObserver.observe(gc);

    // On resize, redraw final state if animation done
    window.addEventListener('resize', function() {
      resizeGC();
      if (animDone) {
        drawStatic(1);
        drawAnimatedLine(fiberData, '#4D8FE8', 1);
        drawAnimatedLine(fastData, '#E85D4D', 1);
        drawAnimatedProjection(fiberData, fiberProj, '#4D8FE8', 1);
        drawAnimatedProjection(fastData, fastProj, '#E85D4D', 1);
      } else {
        drawInitial();
      }
    });
  })();

  // BRAND RUNNER GAME
  // ==========================================
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');
  const introEl = document.getElementById('gameIntro');
  const gameOverEl = document.getElementById('gameOver');
  const scoreEl = document.getElementById('gameScore');
  const finalScoreEl = document.getElementById('finalScore');
  const gameOverTitle = document.getElementById('gameOverTitle');

  // Load player image (Bayer logo)
  const playerImg = new Image();
  playerImg.src = './Img/corp-logo_bg_bayer-cross_rev_150dpi_on-screen_rgb (1).png';

  // Bayer brands as obstacles
  const brandNames = [
    'OAD', 'MiraLAX', 'Claritin', 'Aleve', 'Afrin',
    'Citracal', 'Flintstones', 'Phillips\'', 'Midol', 'Coricidin',
    'Astepro', 'Iberogast', 'Berocca', 'MiraFAST', 'MiraFiber',
    'Age Factor', 'Aspirin', 'Prenatal', 'Bayer'
  ];

  let gameState = 'intro'; // intro, playing, over
  let gameStarted = false;
  let score = 0;
  let groundY, playerSize, gravity, jumpForce;
  let player = {};
  let obstacles = [];
  let particles = [];
  let frameCount = 0;
  let speed = 4;
  let groundDashes = [];

  function initGame() {
    const w = canvas._displayWidth || canvas.width;
    const h = canvas._displayHeight || canvas.height;
    groundY = h - 50;
    playerSize = Math.max(24, Math.min(36, h * 0.1));
    gravity = 0.5;
    jumpForce = -12.5;
    speed = Math.max(6, w * 0.009);

    player = {
      x: w * 0.12,
      y: groundY - playerSize,
      w: playerSize,
      h: playerSize,
      vy: 0,
      grounded: true,
      squash: 1
    };

    obstacles = [];
    particles = [];
    score = 0;
    frameCount = 0;
    scoreEl.textContent = '0';

    // Init ground dashes
    groundDashes = [];
    for (let i = 0; i < w + 40; i += 20) {
      groundDashes.push(i);
    }
  }

  function resizeCanvas() {
    const rect = canvas.parentElement.getBoundingClientRect();
    // Cap pixel ratio to prevent retina canvas from being too large on mobile
    const dpr = Math.min(window.devicePixelRatio || 1, 2);
    const isMobile = window.innerWidth < 600;
    const ratio = isMobile ? 1 : dpr;
    canvas.width = rect.width * ratio;
    canvas.height = rect.height * ratio;
    canvas.style.width = rect.width + 'px';
    canvas.style.height = rect.height + 'px';
    ctx.scale(ratio, ratio);
    // Store display size for game logic
    canvas._displayWidth = rect.width;
    canvas._displayHeight = rect.height;
    if (gameState !== 'playing') initGame();
  }

  function getColors() {
    const isLight = document.documentElement.getAttribute('data-theme') === 'light';
    return {
      bg: isLight ? '#F0F0EC' : '#18181B',
      ground: isLight ? '#E0E0DC' : '#2A2A2E',
      groundLine: isLight ? '#C8C8C4' : '#3A3A3E',
      player: isLight ? '#0047AB' : '#4D8FE8',
      playerGlow: isLight ? 'rgba(0,71,171,0.1)' : 'rgba(77,143,232,0.15)',
      obstacle: isLight ? '#0A0A0A' : '#ECECEC',
      obstacleBg: isLight ? '#E0E0DC' : '#2A2A2E',
      text: isLight ? '#888884' : '#707070',
      particle: isLight ? '#0047AB' : '#4D8FE8',
      accent: isLight ? '#0047AB' : '#4D8FE8'
    };
  }

  function spawnObstacle() {
    const w = canvas._displayWidth || canvas.width;
    const h = canvas._displayHeight || canvas.height;
    const brand = brandNames[Math.floor(Math.random() * brandNames.length)];
    const boxW = Math.max(50, ctx.measureText(brand).width + 24);
    const boxH = 30 + Math.random() * 20;

    obstacles.push({
      x: w + 20,
      y: groundY - boxH,
      w: boxW,
      h: boxH,
      brand: brand,
      passed: false
    });
  }

  function spawnParticles(x, y, color) {
    const count = window.innerWidth < 600 ? 3 : 6;
    for (let i = 0; i < count; i++) {
      particles.push({
        x, y,
        vx: (Math.random() - 0.5) * 4,
        vy: -Math.random() * 3 - 1,
        life: 1,
        size: 2 + Math.random() * 3,
        color
      });
    }
  }

  function jump() {
    if (player.grounded) {
      player.vy = jumpForce;
      player.grounded = false;
      player.squash = 0.7;
    }
  }

  function update() {
    const w = canvas._displayWidth || canvas.width;
    const h = canvas._displayHeight || canvas.height;
    frameCount++;

    // Speed up over time
    speed = Math.max(6, w * 0.009) + Math.floor(score / 5) * 0.5;

    // Player physics
    player.vy += gravity;
    player.y += player.vy;
    player.squash += (1 - player.squash) * 0.15;

    if (player.y >= groundY - player.h) {
      player.y = groundY - player.h;
      player.vy = 0;
      if (!player.grounded) player.squash = 1.2;
      player.grounded = true;
    }

    // Ground dashes
    for (let i = 0; i < groundDashes.length; i++) {
      groundDashes[i] -= speed;
      if (groundDashes[i] < -20) groundDashes[i] = w + 20;
    }

    // Spawn obstacles
    const spawnRate = Math.max(50, 90 - score * 2);
    if (frameCount % spawnRate === 0) spawnObstacle();

    // Update obstacles
    for (let i = obstacles.length - 1; i >= 0; i--) {
      const o = obstacles[i];
      o.x -= speed;

      // Score
      if (!o.passed && o.x + o.w < player.x) {
        o.passed = true;
        score++;
        scoreEl.textContent = score;
        const colors = getColors();
        spawnParticles(player.x + player.w / 2, player.y, colors.particle);
      }

      // Collision
      const px = player.x + 3;
      const py = player.y + 3;
      const pw = player.w - 6;
      const ph = player.h - 6;
      if (px < o.x + o.w && px + pw > o.x && py < o.y + o.h && py + ph > o.y) {
        gameState = 'over';
        finalScoreEl.textContent = score;
        if (score >= 15) gameOverTitle.textContent = 'BRAND MASTER';
        else if (score >= 10) gameOverTitle.textContent = 'IMPRESSIVE';
        else if (score >= 5) gameOverTitle.textContent = 'NICE RUN';
        else gameOverTitle.textContent = 'TRY AGAIN';
        gameOverEl.style.display = 'flex';
        return;
      }

      // Cleanup
      if (o.x + o.w < -20) obstacles.splice(i, 1);
    }

    // Update particles
    for (let i = particles.length - 1; i >= 0; i--) {
      const p = particles[i];
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.1;
      p.life -= 0.025;
      if (p.life <= 0) particles.splice(i, 1);
    }
  }

  function draw() {
    const w = canvas._displayWidth || canvas.width;
    const h = canvas._displayHeight || canvas.height;
    const c = getColors();

    // Clear
    ctx.fillStyle = c.bg;
    ctx.fillRect(0, 0, w, h);

    // Ground
    ctx.fillStyle = c.ground;
    ctx.fillRect(0, groundY, w, h - groundY);
    ctx.strokeStyle = c.groundLine;
    ctx.lineWidth = 1;
    ctx.setLineDash([8, 12]);
    ctx.beginPath();
    ctx.moveTo(0, groundY);
    ctx.lineTo(w, groundY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Obstacles
    ctx.font = `500 ${Math.max(9, playerSize * 0.32)}px 'IBM Plex Mono', monospace`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    for (const o of obstacles) {
      // Box
      ctx.fillStyle = c.obstacleBg;
      ctx.fillRect(o.x, o.y, o.w, o.h);
      ctx.strokeStyle = c.obstacle;
      ctx.lineWidth = 1.5;
      ctx.strokeRect(o.x, o.y, o.w, o.h);
      // Brand name
      ctx.fillStyle = c.obstacle;
      ctx.fillText(o.brand, o.x + o.w / 2, o.y + o.h / 2);
    }

    // Player (Bayer logo image)
    ctx.save();
    ctx.translate(player.x + player.w / 2, player.y + player.h / 2);
    ctx.scale(1, player.squash);

    // Glow (skip on mobile for performance)
    if (window.innerWidth >= 600) {
      ctx.fillStyle = c.playerGlow;
      ctx.beginPath();
      ctx.arc(0, 0, player.w * 0.7, 0, Math.PI * 2);
      ctx.fill();
    }

    // Draw player image
    if (playerImg.complete) {
      ctx.drawImage(playerImg, -player.w / 2, -player.h / 2, player.w, player.h);
    } else {
      // Fallback to cross if image not loaded
      const s = player.w * 0.4;
      const t = player.w * 0.16;
      ctx.fillStyle = c.player;
      ctx.beginPath();
      ctx.rect(-t, -s, t * 2, s * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.rect(-s, -t, s * 2, t * 2);
      ctx.fill();
      ctx.fillStyle = c.bg;
      ctx.beginPath();
      ctx.arc(0, 0, t * 0.5, 0, Math.PI * 2);
      ctx.fill();
    }

    ctx.restore();

    // Particles
    for (const p of particles) {
      ctx.globalAlpha = p.life;
      ctx.fillStyle = p.color;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
      ctx.fill();
    }
    ctx.globalAlpha = 1;
  }

  function gameLoop() {
    if (gameState === 'playing') {
      update();
      draw();
    }
    requestAnimationFrame(gameLoop);
  }

  function startGame() {
    if (gameState === 'intro') {
      introEl.classList.add('hidden');
      gameState = 'playing';
      initGame();
      gameLoop();
    }
  }

  function restartGame() {
    gameOverEl.style.display = 'none';
    gameState = 'playing';
    initGame();
  }

  // Input handlers
  function handleGameInput(e) {
    if (gameState === 'intro') {
      startGame();
    } else if (gameState === 'playing') {
      jump();
    } else if (gameState === 'over') {
      restartGame();
    }
  }

  document.addEventListener('keydown', (e) => {
    if (e.code === 'Space' || e.code === 'ArrowUp') {
      // Only handle if game section is in view
      const gameSection = document.getElementById('game');
      const rect = gameSection.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom > 0) {
        e.preventDefault();
        handleGameInput(e);
      }
    }
  });

  canvas.addEventListener('click', handleGameInput);
  canvas.addEventListener('touchstart', (e) => {
    e.preventDefault();
    handleGameInput(e);
  }, { passive: false });

  // Auto-start when scrolled into view
  const gameObserver = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting && !gameStarted) {
          gameStarted = true;
          resizeCanvas();
          // Brief pause then auto-start
          setTimeout(() => {
            startGame();
          }, 1200);
        }
      });
    },
    { threshold: 0.5 }
  );
  gameObserver.observe(document.getElementById('game'));

  // Handle resize
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  // ==========================================
  // PORTFOLIO MODALS
  // ==========================================
  const projectData = {
    oad: {
      title: 'OAD Brand Platform',
      role: 'Design Manager & Lead Designer',
      desc: 'Led the interim One A Day brand platform rollout across all channels, creating a cohesive visual system for the entire OAD portfolio. This initiative unified the look across Men\'s, Women\'s, 50+, Non-Gender, and specialty lines before the full OAD mission work launched. Managed the production of 700+ product renders for GS1 syndication, directed animations, and led the digital brandbook launch with agency partner Assembly.',
      details: [
        { label: 'Scope', text: '50+ SKUs across all OAD product lines. Digital brandbook, animations, GS1-ready renders, ecommerce assets.' },
        { label: 'Channels', text: 'Amazon, Walmart, Target, retail, digital, social. Full omnichannel activation.' },
        { label: 'Team', text: 'Directed Mertz and Assembly agency partners. Collaborated with Amy Miller and brand team.' },
        { label: 'Timeline', text: '2023–2025. Phased rollout starting with renders, expanding to animations and digital brandbook.' }
      ],
      gallery: ['[ OAD Brandbook Spread ]', '[ OAD Render Lineup ]', '[ OAD Animation Still ]', '[ OAD Ecommerce Tiles ]']
    },
    agefactor: {
      title: 'Age Factor',
      role: 'Design Manager — End-to-End Launch',
      desc: 'Managed the complete design lifecycle for Age Factor, a new brand entering the consumer health space. From initial concept development through social assets, ecommerce content, photoshoot direction, and app asset creation — led both hands-on design and agency direction to bring this brand to market.',
      details: [
        { label: 'Scope', text: 'Full brand launch — social assets, ecommerce content, product photography, app design, product comp creation.' },
        { label: 'Channels', text: 'Social, ecommerce (Amazon, Walmart, Target), app, retail.' },
        { label: 'My Role', text: 'Design management and hands-on creative. Directed photoshoots and managed agency execution.' },
        { label: 'Key Deliverables', text: 'Social playbook, ecommerce tiles, product comp creation for qualitative testing, creative development of app assets.' }
      ],
      gallery: ['[ Age Factor Social Assets ]', '[ Age Factor Ecommerce ]', '[ Age Factor Product Comps ]', '[ Age Factor App Screens ]']
    },
    iberogast: {
      title: 'Iberogast',
      role: 'Design Manager — U.S. Market Launch',
      desc: 'Played a key role in bringing Iberogast to the U.S. market, directing the design strategy across web, social, ecommerce, and motion. Created the MOA (Mechanism of Action) animation, developed the social playbook, and managed ecommerce design execution — establishing the visual language for this established European brand\'s entry into North America.',
      details: [
        { label: 'Scope', text: 'Web design direction, MOA animation, social playbook, ecommerce management, lifestyle photography selection.' },
        { label: 'Channels', text: 'Brand website, social, ecommerce, retail.' },
        { label: 'My Role', text: 'Design direction and management. Led creative vision while managing agency partners on execution.' },
        { label: 'Key Deliverables', text: 'Website design direction, animated MOA explainer, social content playbook, product renders, ecommerce assets.' }
      ],
      gallery: ['[ Iberogast Web Design ]', '[ Iberogast MOA Animation ]', '[ Iberogast Social Playbook ]', '[ Iberogast Ecommerce ]']
    },
    bold: {
      title: 'Bold Breakthrough Tour',
      role: 'Creative Lead — Campaign Identity',
      desc: 'Developed the complete visual identity for the Bold Breakthrough Tour — a multi-year internal keynote and workshop series designed to engage colleagues and drive a culture of innovation across Consumer Health. Created the branding system, animated sizzlers, printed collateral, and directed venue setup. This work directly parallels the AI Proficiency Lead role: designing engaging experiences that shift how teams think and work.',
      details: [
        { label: 'Scope', text: 'Full campaign identity — logos, PPT templates, animated sizzlers, pop-up banners, decals, agenda design, nametags, sponsor posters, manifesto design.' },
        { label: 'Events', text: 'Bold Activation Tour, Bold Breakthrough Tour (first in-person), Be Curious sessions. Three annual conferences.' },
        { label: 'My Role', text: 'Creative lead. Designed identity system, directed 3 animated sizzlers, coordinated with printers, scoped venue and directed event setup.' },
        { label: 'Why It Matters', text: 'Proved I can design programs that excite and engage diverse internal audiences — the exact skill set the AI Learning Lead role requires.' }
      ],
      gallery: ['[ Bold Tour Logo System ]', '[ Bold Event Photography ]', '[ Bold Venue Setup ]', '[ Bold Animated Sizzler ]'],
      externalLink: 'https://www.michaelscrivana.com/marketingexcellence'
    }
  };

  const modal = document.getElementById('projectModal');
  const modalClose = document.getElementById('modalClose');

  function openModal(projectKey) {
    const data = projectData[projectKey];
    if (!data) return;

    document.getElementById('modalTitle').textContent = data.title;
    document.getElementById('modalRole').textContent = data.role;
    document.getElementById('modalDesc').textContent = data.desc;
    document.getElementById('modalHero').textContent = '[ ' + data.title + ' — Hero Image ]';

    // Details
    const detailsEl = document.getElementById('modalDetails');
    detailsEl.innerHTML = data.details.map(d =>
      '<div class="modal-detail-block"><h4>' + d.label + '</h4><p>' + d.text + '</p></div>'
    ).join('');

    // External link
    if (data.externalLink) {
      detailsEl.innerHTML += '<div class="modal-detail-block" style="grid-column: span 2;"><a href="' + data.externalLink + '" target="_blank" style="display: inline-flex; align-items: center; gap: 6px; font-family: var(--font-mono); font-size: 0.72rem; letter-spacing: 0.06em; text-transform: uppercase; color: var(--accent); text-decoration: none;">View Full Project ↗</a></div>';
    }

    // Gallery
    const galleryEl = document.getElementById('modalGallery');
    galleryEl.innerHTML = data.gallery.map(g =>
      '<div class="modal-gallery-item">' + g + '</div>'
    ).join('');

    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeModal() {
    modal.classList.remove('active');
    document.body.style.overflow = '';
  }

  // Click handlers
  document.querySelectorAll('.portfolio-item[data-project]').forEach(item => {
    item.addEventListener('click', (e) => {
      // Don't open modal if clicking external link
      if (e.target.closest('a')) return;
      openModal(item.dataset.project);
    });
  });

  modalClose.addEventListener('click', closeModal);
  modal.addEventListener('click', (e) => {
    if (e.target === modal) closeModal();
  });
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.classList.contains('active')) closeModal();
  });

  // ==========================================
  // LIGHTBOX WITH CAROUSEL
  // ==========================================
  const lightbox = document.getElementById('lightbox');
  const lightboxImage = document.getElementById('lightboxImage');
  const lightboxClose = document.getElementById('lightboxClose');
  const lightboxPrev = document.getElementById('lightboxPrev');
  const lightboxNext = document.getElementById('lightboxNext');
  const lightboxCounter = document.getElementById('lightboxCounter');

  let currentCarouselImages = [];
  let currentImageIndex = 0;

  function openLightbox(src, carouselId) {
    lightboxImage.src = src;
    lightbox.classList.add('active');
    document.body.style.overflow = 'hidden';

    // Check if this image is part of a carousel
    if (carouselId) {
      const carousel = document.getElementById(carouselId);
      const images = carousel.querySelectorAll('.carousel-image');
      currentCarouselImages = Array.from(images).map(img => img.src);
      currentImageIndex = currentCarouselImages.indexOf(src);
      
      // Show/hide carousel controls
      lightboxPrev.style.display = 'flex';
      lightboxNext.style.display = 'flex';
      lightboxCounter.style.display = 'block';
      updateLightboxCounter();
    } else {
      lightboxPrev.style.display = 'none';
      lightboxNext.style.display = 'none';
      lightboxCounter.style.display = 'none';
      currentCarouselImages = [];
    }
  }

  function updateLightboxCounter() {
    if (currentCarouselImages.length > 0) {
      lightboxCounter.textContent = (currentImageIndex + 1) + ' / ' + currentCarouselImages.length;
    }
  }

  function nextLightboxImage() {
    if (currentCarouselImages.length > 0) {
      currentImageIndex = (currentImageIndex + 1) % currentCarouselImages.length;
      lightboxImage.src = currentCarouselImages[currentImageIndex];
      updateLightboxCounter();
    }
  }

  function prevLightboxImage() {
    if (currentCarouselImages.length > 0) {
      currentImageIndex = (currentImageIndex - 1 + currentCarouselImages.length) % currentCarouselImages.length;
      lightboxImage.src = currentCarouselImages[currentImageIndex];
      updateLightboxCounter();
    }
  }

  function closeLightbox() {
    lightbox.classList.remove('active');
    document.body.style.overflow = '';
    currentCarouselImages = [];
  }

  // Add click handlers to all carousel images
  const carouselImages = document.querySelectorAll('.carousel-image');
  carouselImages.forEach(img => {
    img.style.cursor = 'pointer';
    img.addEventListener('click', () => {
      const carousel = img.closest('.image-carousel');
      openLightbox(img.src, carousel.id);
    });
  });

  // Add click handlers to other images
  const clickableImages = document.querySelectorAll('img.agent-screenshot, img.photo-placeholder, img.project-image-placeholder, img.portfolio-thumb');
  clickableImages.forEach(img => {
    img.style.cursor = 'pointer';
    img.addEventListener('click', () => {
      openLightbox(img.src);
    });
  });

  lightboxClose.addEventListener('click', closeLightbox);
  lightboxPrev.addEventListener('click', prevLightboxImage);
  lightboxNext.addEventListener('click', nextLightboxImage);

  lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) closeLightbox();
  });

  document.addEventListener('keydown', (e) => {
    if (lightbox.classList.contains('active')) {
      if (e.key === 'Escape') closeLightbox();
      if (e.key === 'ArrowLeft') prevLightboxImage();
      if (e.key === 'ArrowRight') nextLightboxImage();
    }
  });

  // ==========================================
  // CAROUSEL NAVIGATION
  // ==========================================
  document.querySelectorAll('.carousel-nav').forEach(btn => {
    btn.addEventListener('click', () => {
      const carouselId = btn.dataset.carouselId;
      const carousel = document.getElementById(carouselId);
      const images = carousel.querySelectorAll('.carousel-image');
      const indicators = carousel.parentElement.querySelectorAll('.indicator');
      
      let currentIndex = Array.from(images).findIndex(img => img.classList.contains('active'));
      if (currentIndex === -1) currentIndex = 0;

      if (btn.classList.contains('carousel-next')) {
        currentIndex = (currentIndex + 1) % images.length;
      } else {
        currentIndex = (currentIndex - 1 + images.length) % images.length;
      }

      updateCarousel(carouselId, currentIndex);
    });
  });

  document.querySelectorAll('.indicator').forEach(dot => {
    dot.addEventListener('click', () => {
      const carouselId = dot.dataset.carouselId;
      const index = parseInt(dot.dataset.index);
      updateCarousel(carouselId, index);
    });
  });

  function updateCarousel(carouselId, index) {
    const carousel = document.getElementById(carouselId);
    const images = carousel.querySelectorAll('.carousel-image');
    const indicators = document.querySelectorAll('.indicator[data-carousel-id="' + carouselId + '"]');
    
    images.forEach(img => img.classList.remove('active'));
    indicators.forEach(dot => dot.classList.remove('active'));
    
    images[index].classList.add('active');
    indicators[index].classList.add('active');
  }

  // Initialize first carousel image as active
  document.querySelectorAll('.image-carousel').forEach(carousel => {
    const firstImage = carousel.querySelector('.carousel-image');
    const firstIndicator = carousel.querySelector('.indicator');
    if (firstImage) firstImage.classList.add('active');
    if (firstIndicator) firstIndicator.classList.add('active');
  });
</script>

</body>
</html>